<!doctype html><html><head><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=msapplication-TileColor content=#FFFFFF><meta name=msapplication-TileImage content=http://docs.kuzzle.io/assets/images/favicon/mstile-144x144.png><meta name=msapplication-square70x70logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-70x70.png><meta name=msapplication-square150x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-150x150.png><meta name=msapplication-wide310x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x150.png><meta name=msapplication-square310x310logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x310.png><meta name=google-site-verification content=luspUdq52gkUU0FFChQ2xmeXSs5HDafpARQ7fVXVBp4><meta itemprop=name content=constructors><meta itemprop=image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta name=twitter:card value=summary><meta name=twitter:site content=@kuzzleio><meta name=twitter:title content=constructors><meta name=twitter:creator content=@kuzzleio><meta name=twitter:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta property=og:title content=constructors><meta property=og:type content=article><meta property=og:site_name content=""><meta property=og:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-96x96.png><meta property=article:published_time content=2018-01-23T17:00:58.720Z><meta property=article:modified_time content=2018-01-23T17:00:58.720Z><meta property=article:section content=Plugins><meta property=article:tag content="The plugin context"><link rel=apple-touch-icon-precomposed sizes=57x57 href=/assets/images/favicon/apple-touch-icon-57x57.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/assets/images/favicon/apple-touch-icon-114x114.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/assets/images/favicon/apple-touch-icon-72x72.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/favicon/apple-touch-icon-144x144.png><link rel=apple-touch-icon-precomposed sizes=60x60 href=/assets/images/favicon/apple-touch-icon-60x60.png><link rel=apple-touch-icon-precomposed sizes=120x120 href=/assets/images/favicon/apple-touch-icon-120x120.png><link rel=apple-touch-icon-precomposed sizes=76x76 href=/assets/images/favicon/apple-touch-icon-76x76.png><link rel=apple-touch-icon-precomposed sizes=152x152 href=/assets/images/favicon/apple-touch-icon-152x152.png><link rel=icon type=image/png href=/assets/images/favicon/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=/assets/images/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/images/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/images/favicon/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/assets/images/favicon/favicon-128.png sizes=128x128><link rel=stylesheet href=/assets/font-awesome/scss/font-awesome.css><title>constructors - The plugin context - Plugins - Kuzzle documentation</title><style media=screen>@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;src:local('Ubuntu Regular'),local('Ubuntu-Regular'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCs6KVjbNBYlgoKfw7z.ttf) format('truetype')}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:500;src:local('Ubuntu Medium'),local('Ubuntu-Medium'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCv6KVjbNBYlgoCjC3jsGyI.ttf) format('truetype')}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:700;src:local('Ubuntu Bold'),local('Ubuntu-Bold'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCv6KVjbNBYlgoCxCvjsGyI.ttf) format('truetype')}.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
/*! normalize.css v3.0.2 | MIT License | git.io/normalize */
html{-ms-text-size-adjust:100%}blockquote>p,pre>p{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}hr{box-sizing:content-box;height:0}pre{overflow:auto}kbd,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto}.content dt,optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}th{padding:0}@font-face{font-family:'slate';src:url(../../../assets/fonts/slate.eot?-syv14m);src:url(../../../assets/fonts/slate.eot?#iefix-syv14m) format("embedded-opentype"),url(../../../assets/fonts/slate.woff2?-syv14m) format("woff2"),url(../../../assets/fonts/slate.woff?-syv14m) format("woff"),url(../../../assets/fonts/slate.ttf?-syv14m) format("truetype"),url(../../../assets/fonts/slate.svg?-syv14m#slate) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'Gobold';src:url(../../../assets/fonts/Gobold.eot);src:url(../../../assets/fonts/Gobold.eot?#iefix) format("embedded-opentype"),url(../../../assets/fonts/Gobold.woff) format("woff"),url(../../../assets/fonts/Gobold.ttf) format("truetype");font-weight:700;font-style:normal}.content h1,.content h2{color:#002835;font-weight:300}.content aside a,.content aside a:visited,.content li a,.content li a:visited,.content p a,.content p a:visited,.content table a,.content table a:visited,body,html{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace;font-weight:300}.content h3,.content h4,.content h5,.content h6{color:#002835}.content h2,.content h3,.content h4,.content h5,.content h6{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace}aside code,blockquote code,code,li code,p code,table code{font-size:14px}aside code,blockquote code,code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code,li code,p code,pre,table code{font-family:Consolas,Menlo,Monaco,"Lucida Console","Liberation Mono","DejaVu Sans Mono","Bitstream Vera Sans Mono","Courier New",monospace,serif;line-height:1.3}pre{font-size:14px}.content aside a,.content aside a:visited,.content li a,.content li a:visited,.content p a,.content p a:visited,.content table a,.content table a:visited,.tocify-wrapper a{color:#3498db;text-decoration:none}aside code,blockquote code,code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code,li code,p code,table code{word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.highlight .c,.highlight .c1,.highlight .cm,.highlight .cs{color:#909090}.highlight,.highlight .w{background-color:#383838}body,html{color:#333;padding:0;margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#fff;height:100%;-webkit-text-size-adjust:none}body{position:relative}*,:after,:before{box-sizing:border-box}a,abbr,address,b,cit,dd,del,dfn,dl,dt,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,ins,label,legend,li,p,q,samp,small,strong,sub,sup{border:0;vertical-align:baseline;margin:0;padding:0}blockquote,code,ol,pre,ul{vertical-align:baseline;margin:0}blockquote,code{border:0}ol,pre,ul{padding:0}ol,ul{border:0;margin:0 0 0 25px}article,aside,audio,canvas,caption,details,div,figure,footer,header,hgroup,iframe,img,mark,menu,nav,object,section,span,summary,table,tbody,td,tfoot,thead,tr,video{border:0;margin:0;padding:0}li{font-size:1em}@font-face{font-family:'kuzzle-icon';src:url(./../../../fonts/kuzzle-icon.eot?-cyrvtz);src:url(./../../../assets/fonts/kuzzle-icon.eot?#iefix-cyrvtz) format("embedded-opentype"),url(./../../../assets/fonts/kuzzle-icon.ttf?-cyrvtz) format("truetype"),url(./../../../assets/fonts/kuzzle-icon.woff?-cyrvtz) format("woff"),url(./../../../assets/fonts/kuzzle-icon.svg?-cyrvtz#kuzzle-icon) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'icomoon';src:url(./../../../assets/fonts/icomoon.eot?-cyrvtz);src:url(./../../../assets/fonts/icomoon.eot?#iefix-cyrvtz) format("embedded-opentype"),url(./../../../assets/fonts/icomoon.ttf?-cyrvtz) format("truetype"),url(./../../../assets/fonts/icomoon.woff?-cyrvtz) format("woff"),url(./../../../assets/fonts/icomoon.svg?-cyrvtz#icomoon) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'slate';src:url(../../../assets/fonts/slate.eot?-syv14m);src:url(../../../assets/fonts/slate.eot?#iefix-syv14m) format("embedded-opentype"),url(../../../assets/fonts/slate.woff2?-syv14m) format("woff2"),url(../../../assets/fonts/slate.woff?-syv14m) format("woff"),url(../../../assets/fonts/slate.ttf?-syv14m) format("truetype"),url(../../../assets/fonts/slate.svg?-syv14m#slate) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'Gobold';src:url(../../../assets/fonts/Gobold.eot);src:url(../../../assets/fonts/Gobold.eot?#iefix) format("embedded-opentype"),url(../../../assets/fonts/Gobold.woff) format("woff"),url(../../../assets/fonts/Gobold.ttf) format("truetype");font-weight:700;font-style:normal}.content aside.notice:before,.content aside.success:before,.content aside.warning:before{font-family:'slate';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1}.content aside.warning:before{content:"\e600"}.content aside.notice:before{content:"\e602"}.content aside.success:before{content:"\e606"}.since{font-size:.9rem;opacity:.7}.deprecated{font-size:1rem;color:#fff!important;background-color:#e94e77;display:inline-block}.tocify-wrapper{position:fixed;z-index:1;top:0;left:0;bottom:0;width:320px;padding:1em 0 0 4em;overflow-y:auto;overflow-x:hidden;background-color:#393939;background:#fbfbfb;box-shadow:rgba(0,0,0,.1) 0 0 9px}.tocify-wrapper li,.tocify-wrapper ul{list-style:none;margin:0;padding:0;line-height:26px}.tocify-wrapper li .tocify-item,.tocify-wrapper ul .tocify-item{font-size:16px}@media (max-width:865px){.tocify-wrapper li .tocify-item,.tocify-wrapper ul .tocify-item{line-height:31px;font-size:20px}}.tocify-wrapper a{color:#002835}.tocify-wrapper .cta-buttons{display:none}@media (max-width:865px){.tocify-wrapper .cta-buttons{display:block}}.tocify-wrapper .cta-buttons button{background:#e94e77;border:0;padding:1em;font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px}.tocify-wrapper .tocify-header>.tocify-item{color:#111;text-decoration:none;text-transform:uppercase;border-bottom:1px solid #bbb;padding:2em 0 1em;margin:0 4em 1em 0}.tocify-wrapper .tocify-header .tocify-subheader{background:0 0}.tocify-wrapper .tocify-header .tocify-subheader .tocify-level-2{padding-left:15px;font-size:15px}@media (max-width:865px){.tocify-wrapper .tocify-header .tocify-subheader .tocify-level-2{font-size:18px}}.tocify-wrapper .tocify-header .tocify-subheader>li:last-child{box-shadow:none}.tocify-wrapper .tocify-header .tocify-focus>a{color:#e94e77}.tocify-wrapper .toc-footer{padding:2em 0}.tocify-wrapper .toc-footer li{display:block;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:.8em;line-height:1.7}.language-tab-selector a,.tocify-wrapper .toc-footer a,.tocify-wrapper .toc-footer li,blockquote a,pre a{color:#fff;text-decoration:none}.tocify-wrapper .toc-footer a:hover{text-decoration:underline}.tocify-wrapper .floating-toggle{display:none}@media (max-width:635px){.tocify-wrapper .floating-toggle{display:inline-block}}.tocify-wrapper .floating-toggle .icon-menu{opacity:1}.tocify-wrapper .floating-toggle .icon-cancel,.tocify-wrapper.open .floating-toggle .icon-menu{opacity:0}.tocify-wrapper.open .floating-toggle .icon-cancel{opacity:1}.version-selector select{font-size:14px;background:#f3f3f3;border:1px solid #e4e4e4;border-radius:4px;padding:10px}@media (max-width:865px){.version-selector select{font-size:19px}}.floating-toggle{background:#002835;border-radius:50%;height:70px;width:70px;position:fixed;bottom:20px;right:20px;box-shadow:rgba(0,0,0,.44) 2px 2px 11px 0;z-index:3}.floating-toggle .icon{transition:all .2s;position:absolute;top:16.5px;left:16.5px}.container .tocify-wrapper{top:126px}@media (max-width:635px){.container .tocify-wrapper{top:50px}}.container,blockquote,pre{position:relative}.container .page-wrapper{position:relative;margin-left:320px;min-height:100%;padding:126px 0 1px}.container .page-wrapper .content{margin:0 0 0 100px;max-width:960px}.container .page-wrapper .content .main-content{padding-bottom:40px}code,li code,p code,table code{background-color:#f5e0e6}aside code,code,li code,p code,table code{padding:3px 5px;border-radius:4px}blockquote code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{background-color:#f5e0e6;padding:3px 5px;border-radius:4px}@media (max-width:1200px){aside code,blockquote code,code,li code,p code,table code{font-size:95%}}h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{font-size:inherit}aside code{background-color:#d5d5d5}blockquote,pre{box-sizing:border-box}blockquote a,pre a{border-bottom:dashed 1px #ccc}blockquote{padding:0!important}blockquote>p{background-color:#bae8f5;padding:13px;color:#002835!important}pre{border:solid 1px #e4e4e4;background:#fbfbfb;border-radius:4px}pre .clipboard{position:absolute;right:0;top:0;padding:6px 8px;background:rgba(0,0,0,.07);border:0;font-family:Ubuntu,Arial,monospace;font-size:11px;opacity:0;outline:0;transition:opacity .3s;color:#111}pre .clipboard i{color:#666}pre .clipboard:hover{background:rgba(0,0,0,.15)}pre .clipboard:hover i{color:#111}#nav-button:hover,.nav-sibling .br-theme-fontawesome-stars .br-widget .br-current-rating.visible,pre:hover .clipboard{opacity:1}.hljs{padding:25px;display:block}.language-tab,header nav>ul li.btn-hamburger,header nav>ul li.btn-hamburger a:after{display:none}.dropdown-btn ul.nav-dropdown li,.dropdown-btn.open ul.nav-dropdown,.language-tab.language-meta-tab,.language-tab.language-tab-active,header .wrapper .search.display-results .search-results{display:block}.language-tab-selector{background-color:#002835;font-weight:700;margin:10px 0 -10px;position:relative;border-bottom:4px solid #bae8f5;width:50%;float:right;clear:right}@media (max-width:1200px){.language-tab-selector{float:none;width:100%}}.language-tab-selector a{display:block;float:left;padding:0 10px;line-height:30px;outline:0}.language-tab-selector a:active,.language-tab-selector a:focus{background-color:#111;color:#fff}.language-tab-selector a.language-tab-active{background-color:#bae8f5;color:#002835}.language-tab-selector:after{content:'';clear:both;display:block}.icon{font-family:'kuzzle-icon','icomoon';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-size:36px;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon.icon-x-small{font-size:12px}.icon.icon-medium{font-size:26px}.icon.icon-large{font-size:45px}.icon.icon-yellow{color:#efc94c}.icon.icon-light{color:#bae8f5}.icon.icon-dark{color:#004b52}.icon.icon-grey{color:#33393f}.icon.icon-middle{vertical-align:middle}.icon.icon-sub{vertical-align:sub}.icon.icon-tooltip{padding:0 10px;display:inline-block}.icon.icon-play_arrow:before{content:"\e01b"}.icon.icon-download-alt:before{content:"\e0ff"}.icon.icon-arrow-down:before{content:"\e10f"}.icon.icon-arrow-up:before{content:"\e112"}.icon.icon-menu:before{content:"\e20e"}.icon.icon-code:before{content:"\e284"}.icon.icon-settings_ethernet:before{content:"\e2d1"}.icon.icon-reading:before{content:"\e620"}.icon.icon-collaboration:before{content:"\e616"}.icon.icon-diploma1:before{content:"\e617"}.icon.icon-download2:before{content:"\e618"}.icon.icon-external:before{content:"\e619"}.icon.icon-info:before{content:"\e61a"}.icon.icon-left-round:before{content:"\e61b"}.icon.icon-left-arrow:before{content:"\e61c"}.icon.icon-right-arrow:before,.icon.icon-right-round:before{content:"\e61b";-webkit-transform:scaleX(-1);transform:scaleX(-1);display:inline-block}.icon.icon-right-arrow:before{content:"\e61c"}.icon.icon-puzzle:before{content:"\e61d"}.icon.icon-elasticsearch:before{content:"\e620"}.icon.icon-checkmark:before{content:"\e61e"}.icon.icon-contacts:before{content:"\e61f"}.icon.icon-linkedin:before{content:"\e615"}.icon.icon-cancel:before{content:"\e614"}.icon.icon-quote-alt:before{content:"\e613"}.icon.icon-alert:before{content:"\e60f"}.icon.icon-bookmark:before{content:"\e610"}.icon.icon-check:before{content:"\e611"}.icon.icon-star:before{content:"\e612"}.icon.icon-idea:before{content:"\e60e"}.icon.icon-download:before{content:"\e60d"}.icon.icon-ask:before{content:"\e600"}.icon.icon-buisiness:before{content:"\e601"}.icon.icon-doc:before{content:"\e602"}.icon.icon-email:before{content:"\e603"}.icon.icon-games:before{content:"\e604"}.icon.icon-get-started:before{content:"\e605"}.icon.icon-github:before{content:"\e606"}.icon.icon-iot:before{content:"\e607"}.icon.icon-mobile:before{content:"\e608"}.icon.icon-quote:before{content:"\e609"}.icon.icon-social-media:before{content:"\e60a"}.icon.icon-twitter:before{content:"\e60b"}.icon.icon-websites:before{content:"\e60c"}.icon.icon-eye-plus:before{content:"\e900"}.icon.icon-small{font-size:18px}.github,header{background-color:#002835}.github{overflow:hidden}.github .icon{position:relative;line-height:27px;font-size:25px;color:#fff}@media (max-width:1200px){.github .icon{font-size:21px}}.github .icon:after,.github .icon:before{transition-duration:.3s;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:hvr-icon-drop;animation-name:hvr-icon-drop;content:"\e606";opacity:1;display:inline-block;-webkit-transform:translateY(0);transform:translateY(0)}.github .icon:after{content:"\e0ff";opacity:0;position:absolute;left:-2px;top:-1px;font-size:1.3em;-webkit-transform:translateY(-160%);transform:translateY(-160%)}.github:hover .icon:before{display:inline-block;color:transparent;opacity:0;-webkit-transform:translateY(160%);transform:translateY(160%)}.github:hover .icon:after{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}#nav-button{padding:0 1.5em 5em 0;display:none;position:fixed;top:0;left:0;z-index:100;color:#000;font-weight:700;opacity:.7;line-height:16px;transition:left .3s ease-in-out}#nav-button span{display:block;padding:6px;background-color:rgba(240,240,240,.7);-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:rotate(-90deg) translate(-100%,0);transform:rotate(-90deg) translate(-100%,0);border-radius:0 0 0 5px}#nav-button img{height:16px;vertical-align:bottom}#nav-button.open{left:320px}header{box-shadow:rgba(0,0,0,.1) 0 0 9px;width:100%;position:fixed;z-index:2;transition:all .4s}header .wrapper{background-color:#fff;padding:1em 4em;height:75px}@media (max-width:1200px){header .wrapper{padding:1em 2em}}@media (max-width:865px){header .wrapper{height:auto;max-height:75px}}@media (max-width:635px){header .wrapper{height:0;overflow:hidden;padding:0}}header .wrapper .logo img{width:90px;margin:5px 2em 5px 0}@media (max-width:865px){header .wrapper .logo img{margin:5px 1em 5px 0}}#nav-button,header .wrapper a{text-decoration:none}header .wrapper h1{display:inline-block;vertical-align:top;font-size:1.8em;padding-top:3px;color:#adadad;font-weight:100}header .wrapper .search{float:right;position:relative;margin:5px auto 7px}@media (max-width:865px){header .wrapper .search{position:absolute;right:2em;top:16px;z-index:10}}@media (max-width:635px){header .wrapper .search{margin:0 auto;top:6px}}header .wrapper .search:after{display:inline-block;font:13px/1 FontAwesome;font-size:90%;text-rendering:auto;content:"\f002";right:10px;top:10px;position:absolute}@media (max-width:635px){header .wrapper .search:after{color:#fff;font-size:100%;top:10px;opacity:1}header .wrapper .search.focused:after{color:#002835}}header .wrapper .search input[type=search]{-webkit-transition:all .5s;outline:0;border-radius:4px;width:220px;border:1px solid #d0d0d0;letter-spacing:.2px;line-height:2;padding:2px 22px 2px 10px;font-size:1em;display:inline-block;margin:0;height:32px}@media (max-width:1200px){header .wrapper .search input[type=search]{font-size:90%}}@media (max-width:635px){header .wrapper .search input[type=search]{width:30px;opacity:0}}header .wrapper .search input[type=search]:hover{border-color:#e94e77}header .wrapper .search input[type=search]:focus{border-color:#e94e77;width:320px;opacity:1}@media (max-width:635px){header .wrapper .search input[type=search]:focus{width:220px;font-size:100%}}header .wrapper .search.display-results input[type=search]{border-color:#e94e77;width:320px;opacity:1}@media (max-width:635px){header .wrapper .search.display-results input[type=search]{width:220px}header .wrapper .search.display-results:after{color:#002835}}header .wrapper .search .search-results{margin:0 auto;display:none;max-width:1170px;position:relative;height:100%}header .wrapper .search .search-results ul{background:#fff;max-width:410px;text-align:left;position:absolute;padding:5px;box-shadow:0 1px 4px 0 #ccc;margin-left:0;z-index:60}@media (max-width:1200px){header .wrapper .search .search-results ul{max-width:350px}}@media (max-width:635px){header .wrapper .search .search-results ul{max-width:350px}}header .wrapper .search .search-results ul li{padding:0;list-style:none;border-bottom:#999 1px dashed}header .wrapper .search .search-results ul li:last-of-type{border-bottom:0}header .wrapper .search .search-results ul li p em{background:#bae8f5;font-style:normal}header .wrapper .search .search-results ul li p.page{line-height:1.5}header .wrapper .search .search-results ul li p.page span.title{font-size:15px;padding-right:5px;font-weight:500;color:#002835}header .wrapper .search .search-results ul li p.page span.title:before{content:" ";padding-right:3px;width:8px;display:inline-block}header .wrapper .search .search-results ul li p.page span.firstMember,header .wrapper .search .search-results ul li p.page span.parent{font-size:11px;padding:4px 6px;color:#666;background:#eee;font-weight:400}header .wrapper .search .search-results ul li p.preview{font-size:11px;line-height:1.3;color:#999;padding:7px 8px 7px 5px;font-weight:400}header .wrapper .search .search-results ul li p.preview em{background-color:#dcf7ff}header .wrapper .search .search-results ul li a{display:block;background:#fff;padding:5px;outline:0}header .wrapper .search .search-results ul li a:focus,header .wrapper .search .search-results ul li a:hover{background:#f0f0f0}header .wrapper .search .search-results ul li a:focus .title:before,header .wrapper .search .search-results ul li a:hover .title:before{content:"›"!important}header nav{background-color:#002835;padding:0 4em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:1200px){header nav{padding:0 2em}}header nav .logo-phone img{width:60px;margin-right:15px;display:none}@media (max-width:635px){header nav .logo-phone img{display:block;margin-right:5px}}header nav>ul{margin-left:0}@media (max-width:635px){header nav>ul{padding:0 10px;overflow-x:scroll;overflow-y:visible;white-space:nowrap;mask-image:linear-gradient(to right,transparent,#002835 20px,#002835 90%,transparent);-webkit-mask-image:linear-gradient(to right,transparent,#002835 20px,#002835 90%,transparent)}}header nav>ul li{margin-right:15px;display:inline-block;vertical-align:middle;list-style:none;overflow-y:visible}@media (max-width:865px){header nav>ul li.btn-hamburger{display:inline-block}}@media (max-width:635px){header nav>ul li.btn-hamburger{display:none}}header nav>ul li.btn-hamburger .icon{position:relative;line-height:22px;font-size:25px}header nav>ul li .nav-item{font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;transition:all .5s;position:relative;display:block;line-height:20px;cursor:pointer;padding:11px 0}.dropdown-btn ul.nav-dropdown li .dropdown-item:after,header nav>ul li .nav-item:after{content:'';display:block;position:absolute;bottom:6px;left:0;width:0;height:2px;background-color:#fff;white-space:nowrap;transition:.5s ease}header nav>ul li .nav-item:first-child{padding-left:0}@media (max-width:635px){header nav>ul li .nav-item.item-cookbooks i{display:none}}header nav>ul li.active>.nav-item:after{width:100%}header nav .spacer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}@media (max-width:635px){header nav .spacer{display:block;min-width:30px;-ms-flex-preferred-size:30px;flex-basis:30px}}@media (max-width:865px){header nav .cta-buttons{display:none}}header nav .cta-buttons button{background:#e94e77;border:0;padding:11px;font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;margin:0 0 0 5px}body:not(.touchevents) nav .nav-item:not(.github):hover:after{width:100%}.dropdown-btn{position:relative}.dropdown-btn ul.nav-dropdown{padding:0 20px 20px;position:absolute;left:-20px;background-color:#002835;z-index:200000;margin:0;display:none}.dropdown-btn ul.nav-dropdown li .dropdown-item{font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;transition:all .5s;position:relative;display:block;padding:15px 0;line-height:20px;cursor:pointer}.dropdown-btn ul.nav-dropdown li .dropdown-item:hover:after,.dropdown-btn ul.nav-dropdown li.active>.dropdown-item:after{width:100%}.nav-sibling{height:45px;clear:both;border-bottom:solid 5px #f0f0f0}.nav-sibling a .icon-github{color:#afafaf;font-size:12px;vertical-align:text-bottom;margin-left:6px}.nav-sibling a:hover .icon-github{text-decoration:underline;-webkit-text-decoration-color:#fff;-moz-text-decoration-color:#fff;text-decoration-color:#fff}.nav-sibling .br-theme-fontawesome-stars{display:inline-block;margin:0 5px}.nav-sibling .br-theme-fontawesome-stars .br-widget{white-space:nowrap}.nav-sibling .br-theme-fontawesome-stars .br-widget a{font:20px/1 FontAwesome;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:2px;text-decoration:none!important;font-size:13px;padding:0}.nav-sibling .br-theme-fontawesome-stars .br-widget a:after{content:'\f006';color:#d2d2d2}.nav-sibling .br-theme-fontawesome-stars .br-widget a.br-active:after,.nav-sibling .br-theme-fontawesome-stars .br-widget a.br-selected:after{content:'\f005';color:#edb867}.nav-sibling .br-theme-fontawesome-stars .br-widget .br-current-rating{display:inline-block;color:#afafaf;margin-left:5px;opacity:0;transition:opacity .2s}.nav-sibling .br-theme-fontawesome-stars .br-readonly a{cursor:default}.nav-sibling.bottom{margin-top:30px;margin-bottom:0;border-bottom:0;border-top:solid 5px #f0f0f0}.nav-sibling p{margin:0;font-size:11px}.nav-sibling p a{color:#3498db;font-size:13px;padding:0 7px;font-weight:500}.nav-sibling .nav-left{text-align:left;float:left}.nav-sibling .nav-left p a{color:#afafaf}.nav-sibling .nav-right{text-align:right;float:right}.nav-sibling .nav-left,.nav-sibling .nav-right{width:70%;overflow:visible;white-space:nowrap}.nav-sibling .nav-right{width:30%}.content .search-highlight{padding:2px;margin:-2px;border-radius:4px;border:1px solid #f7e633;background:linear-gradient(to top left,#f7e633 0%,#f1d32f 100%)}.content .panels{padding:35px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center}.content .panel{display:inline-block;width:50%}.content .panel a{text-decoration:none;margin:10px 20px 30px;display:block;padding:15px 25px;border:solid 1px #ddd;background-color:#fff;-webkit-animation:1s all;animation:1s all;box-shadow:0}.content .panel a:hover{box-shadow:2px 2px 12px 0 rgba(0,0,0,.2)}.content .panel-title{color:#111;text-decoration:none!important;font-family:"Ubuntu";font-weight:700;font-size:20px}.content .panel-title .icon{color:#002835;vertical-align:-8px;margin-right:7px}.content .panel-content{color:#555;padding:25px 0 10px}.content .panel-content button{display:block;margin-top:24px;background-color:#bae8f5;color:#002835;font-weight:500;width:100%;border:0;padding:7px 30px}.container .highlight .err{color:#d0d0d0;background:0 0}.container .page-wrapper,.developer-nav>ul li,.developer-nav>ul li a,.tocify-wrapper,body .mobile-nav li{transition:all .2s}header .mobile-nav{display:none}header .mobile-nav-burger{transition:all .2s;display:none}header header .wrapper{transition:all .5s}.content{transition:margin .2s}.content .mobile-breadcrumb,.large-only,.medium-only,.mobile-only{max-height:0;overflow:hidden;transition:all .2s}.content .nav-sibling,.content .nav-sibling.bottom .nav-left,.content .nav-sibling.bottom .nav-right{transition:all .2s}.large-only,.medium-only,.mobile-only{padding:0;margin:0}@media (max-width:865px){.tocify-wrapper{left:-320px}.tocify-wrapper.open{left:0;box-shadow:rgba(0,0,0,.44) 0 0 17px}#nav-button{display:block}.tocify-wrapper .tocify-item>a{padding-top:.3em;padding-bottom:.3em}}@media (max-width:635px){.tocify-wrapper .lang-selector{display:block}.page-wrapper .lang-selector{display:none}blockquote,pre{width:auto;float:none}}@media (max-width:1440px){.large-only{max-height:500px}.container .page-wrapper .content{margin:0 2em}}@media (max-width:1200px){.medium-only{max-height:500px}.container .tocify-wrapper{width:300px;padding-left:2em}.container .page-wrapper{margin-left:300px}.developer-nav>ul li{padding:0 7px}.developer-nav>ul li a{font-weight:500;font-size:13px}.container .page-wrapper .toc{opacity:0}.content h1>.anchor,.content h2>.anchor,.content h3>.anchor,.content h4>.anchor,.content h5>.anchor,.content h6>.anchor{top:-160px}.content .nav-sibling.bottom{max-height:500px;height:auto;padding:7px}.content .nav-sibling.bottom a{padding:7px}.content .nav-sibling.bottom .nav-left,.content .nav-sibling.bottom .nav-right{float:none;text-align:center;width:100%}.content .nav-sibling.bottom .nav-left .br-current-rating.visible,.content .nav-sibling.bottom .nav-right .br-current-rating.visible{opacity:0;display:none}}@media (max-width:865px){.mobile-only{max-height:500px}body .mobile-nav li{opacity:0}body.nav-burger-open header{box-shadow:rgba(0,0,0,.45) 0 49px 67px 0}body.nav-burger-open header ul{margin:0}body.nav-burger-open header ul.mobile-nav{display:block;background:#fff;margin:8px 0 0;padding-top:8px}body.nav-burger-open header ul.mobile-nav li{opacity:1}body.nav-burger-open header ul.mobile-nav>.active>a{padding:10px 0 1px;border-bottom:solid 1px #fff}body.nav-burger-open header ul.mobile-nav .sub-nav{background-color:rgba(255,255,255,.6)}body.nav-burger-open header ul.mobile-nav .sub-nav li{min-height:0}body.nav-burger-open header ul.mobile-nav .sub-nav li a:before{padding-left:9px;content:" "}body.nav-burger-open header ul.mobile-nav .sub-nav li:first-of-type{padding-top:10px}body.nav-burger-open header ul.mobile-nav .sub-nav li:last-of-type{padding-bottom:10px}body.nav-burger-open header ul.mobile-nav .sub-nav a:hover:before,body.nav-burger-open header ul.mobile-nav .sub-nav li.active a:before{padding-left:2px;padding-right:2px;content:"›"}body.nav-burger-open header ul.mobile-nav .sub-nav a{padding:6px 6px 2px;font-weight:400;font-size:11px}body.nav-burger-open header ul.mobile-nav .sub-nav a span{display:inline-block;border-bottom:2px transparent!important}body.nav-burger-open header ul.mobile-nav>li{min-height:42px;margin:0;padding:0}body.nav-burger-open header ul.mobile-nav>li:last-of-type{min-height:0;border-bottom:2px transparent!important}body.nav-burger-open header ul.mobile-nav>li:last-of-type a,body.nav-burger-open header ul.mobile-nav>li:last-of-type.active{padding-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li:last-of-type a:hover span{border-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li.active{padding:0 0 10px;border-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li.active a:after{content:'';width:0}body.nav-burger-open header ul.mobile-nav>li a:hover span,body.nav-burger-open header ul.mobile-nav>li.active a span{border-bottom:solid 2px #002835}body.nav-burger-open header ul.mobile-nav>li a{color:#002835;padding:10px 0;line-height:3px;text-transform:none;font-family:Ubuntu;font-weight:500}body.nav-burger-open header ul.mobile-nav>li a span{padding:0 12px 17px;display:block}body.nav-burger-open header .mobile-nav-burger:before{content:"\f00d"}body.nav-burger-open header .wrapper{max-height:1500px}header .mobile-nav-burger{position:absolute;right:0;top:0;color:#fff;padding:25px;display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased}header .mobile-nav-burger:before{content:"\f0c9";font-size:25px}header .wrapper nav{display:block;position:initial}header .wrapper nav ul li{float:none}header .wrapper #logo{-webkit-transform-origin:center -14px;transform-origin:center -14px;-webkit-transform:scale(.8);transform:scale(.8);margin:0 auto;text-align:center;width:100%}header .wrapper #logo a{margin:0 auto}.container .tocify-wrapper{padding-left:2em;width:320px}.container .page-wrapper{margin-left:0}.developer-nav>ul.nav,.developer-nav>ul.search:after{display:none}.developer-nav>ul.search{float:none}.developer-nav>ul.search li{padding:0;margin:0 auto;display:block;width:100%}.developer-nav>ul.search li input[type=search]{text-align:center;margin:0 auto;display:block}.developer-nav>.search-results ul{position:unset;margin:44px auto}.content .mobile-breadcrumb{max-height:none;padding:10px}.content .mobile-breadcrumb p{font-size:12px;margin:0;padding:0}.content .mobile-breadcrumb p a{font-size:12px}.content .nav-sibling{max-height:0;padding:0}.content .nav-sibling .separator{display:block;height:0;overflow:hidden;margin:2px 0}}.license{text-align:center;color:#afafaf;font-size:12px;padding:15px}.content pre code a{color:inherit;font-size:inherit!important}ul.sdk-list{list-style-type:none;margin-left:0;padding-left:25px!important}ul.sdk-list li.sdk-item h2{margin-top:15px;border-left:none;border-bottom:1px solid #ddd}ul.sdk-list li.sdk-item img{height:45px}ul.sdk-list li.sdk-item .sdk-logos{vertical-align:top;width:30%;display:inline-block;padding:15px 0 0 10px}ul.sdk-list li.sdk-item .sdk-sources{width:70%;display:inline-block}ul.sdk-list li.sdk-item .sdk-sources-list{padding-top:10px;list-style-type:none}.content:after{content:'';display:block;clear:both}.content aside,.content dl,.content h1,.content h2,.content h3,.content h4,.content h5,.content h6,.content ol,.content ul{box-sizing:border-box;display:block}.content h1{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace;clear:both;font-size:4em}@media (max-width:1440px){.content h1{font-size:3.5em}}@media (max-width:1200px){.content h1{font-size:3em}}.content h1,.content h2{padding-top:30px}.content h1 a,.content h2 a,.content h3 a,.content h4 a,.content h5 a,.content h6 a{color:#3498db;text-decoration:none}.content h1+ul,.content h2+ul,.content h3+ul,.content h4+ul,.content h5+ul,.content h6+ul{margin-top:25px}.content h2{font-size:2.5em}@media (max-width:1440px){.content h2{font-size:2.25em}}@media (max-width:1200px){.content h2{font-size:2em}}.content h3,.content h4,.content h5,.content h6{font-weight:500;padding-top:30px}.content h3,.content h3 code,.content h4,.content h4 code{font-size:16px}.content h5,.content h5 code,.content h6,.content h6 code{font-size:14px}.content h4>span,.content h5>span,.content h6>span{border-bottom:dashed 1px;padding:0 2px 3px;display:inline-block}.content p{padding-top:20px}.content p+h1,.content p+h2,.content p+h3,.content p+h4{padding-top:40px}.content p+p{padding-top:10px}.content p+table{margin-top:20px}.content .clear{clear:both}.content a[href]:hover{text-decoration:underline!important}.content .main-content a[href^=http]:not([link-exclude])::after{content:"";display:inline-block;width:13px;height:13px;background-repeat:no-repeat;background-position:center right;background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%233498db%22%20d%3D%22M1.5%204.518h5.982V10.5H1.5z%22%2F%3E%3Cpath%20d%3D%22M5.765%201H11v5.39L9.427%207.937l-1.31-1.31L5.393%209.35l-2.69-2.688%202.81-2.808L4.2%202.544z%22%20fill%3D%22%233498db%22%2F%3E%3Cpath%20d%3D%22M9.995%202.004l.022%204.885L8.2%205.07%205.32%207.95%204.09%206.723l2.882-2.88-1.85-1.852z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E)}.content aside a.image,.content aside a:visited.image,.content li a.image,.content li a:visited.image,.content p a.image,.content p a:visited.image,.content table a.image,.content table a:visited.image{display:block;margin:25px auto}.content aside a.image img,.content aside a:visited.image img,.content li a.image img,.content li a:visited.image img,.content p a.image img,.content p a:visited.image img,.content table a.image img,.content table a:visited.image img{display:block;margin:0 auto}.content .table-wrapper{overflow-x:auto;width:100%}.content table{margin-bottom:1em;overflow:auto}.content table th{text-align:left;line-height:1.6;padding:5px 40px 5px 10px;border-bottom:1px solid #ccc;vertical-align:bottom;white-space:nowrap}.content table td{text-align:left;vertical-align:top;line-height:1.6;padding:10px}.content table tr:last-child{border-bottom:1px solid #ccc}.content table tr:nth-child(odd)>td{background-color:#fbfbfb}.content table tr:nth-child(even)>td{background-color:#f6f6f6}.content dd{margin-left:15px}.content dd,.content dt,.content li,.content p{color:#444;line-height:1.6}.content img{max-width:100%}.content aside,.content pre{margin:20px 0 0}.content aside{border-radius:4px;padding:25px 40px;background:#f4ede3;color:#002835;line-height:1.6;position:relative}.content aside>p:first-child{margin-top:0}.content aside:before{vertical-align:middle;padding-right:.5em;font-size:18px;position:absolute;top:28px;left:14px}.content aside.warning{background-color:#e08e79;color:#f9eaeb}.content aside.warning dd,.content aside.warning dt,.content aside.warning li,.content aside.warning p{color:#f9eaeb!important}.content aside.warning a{color:#fefefe}.content aside.warning a[href^=http]::after{background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%3Cpath%20fill-opacity%3D%220%22%20stroke%3D%22%23fff%22%20d%3D%22M1.5%204.518h5.982V10.5H1.5z%22%2F%3E%3Cpath%20d%3D%22M5.765%201H11v5.39L9.427%207.937l-1.31-1.31L5.393%209.35l-2.69-2.688%202.81-2.808L4.2%202.544z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M9.995%202.004l.022%204.885L8.2%205.07%205.32%207.95%204.09%206.723l2.882-2.88-1.85-1.852z%22%20fill-opacity%3D%220%22%20%2F%3E%3C%2Fsvg%3E)}.content aside.success{background-color:#bae8f5;color:#002835}.container .page-wrapper .content #disqus_thread{margin:30px 0}.container .page-wrapper .toc{opacity:1;transition:opacity 2s}</style></head><body class=index><header><div class=wrapper><a class=logo href=http://kuzzle.io/ ><img src=/assets/images/kuzzle-logo-blue.png></a><h1>Docs</h1><div class=search><input name=search type=search placeholder="Search anything... (alt + S)" tabindex=1><div class=search-results><ul></ul></div><script type=text/plain id=search-results-template><li>
          <a href="__link__" tabindex="__tabindex__">
            <p class="page">
              <span class="title">__title__</span>
              <span class="firstMember">__firstMember__</span>
              <span class="parent">__parent__</span>
            </p>
            <p class="preview">__preview__</p>
          </a>
        </li></script></div></div><nav><a class=logo-phone href=http://kuzzle.io/ ><img src=/assets/images/kuzzle-logo.png></a><ul><li class=btn-hamburger><a class=nav-item href=""><i class="icon icon-menu"></i></a></li><li><a href=http://docs.kuzzle.io/guide/getting-started/ class="nav-item developers">Guide</a></li><li><a href=http://docs.kuzzle.io/api-documentation/connecting-to-kuzzle/ class=nav-item>API</a></li><li><a href=http://docs.kuzzle.io/sdk-reference/kuzzle/ class=nav-item>SDK</a></li><li class=active><a href=http://docs.kuzzle.io/plugins-reference/plugins-creation-prerequisites/ class=nav-item>Plugins</a></li><li class=dropdown-btn><a href=/cookbooks class="nav-item item-cookbooks">Cookbooks <i class="fa fa-caret-down" aria-hidden=true></i></a><ul class=nav-dropdown><li><a href=http://docs.kuzzle.io/elasticsearch-cookbook/installation/ class=dropdown-item>Elasticsearch</a></li><li><a href=http://docs.kuzzle.io/kuzzle-dsl/essential/koncorde/ class=dropdown-item>Koncorde</a></li><li><a href=http://docs.kuzzle.io/validation-reference/schema/ class=dropdown-item>Validation</a></li><li><a href=http://docs.kuzzle.io/kuzzle-events/plugin-events/ class=dropdown-item>Events</a></li><li></li></ul></li><li><a href=https://github.com/kuzzleio/kuzzle target=_blank class="nav-item github"><i class="icon icon-github icon-small"></i></a></li></ul><div class=spacer></div><div class=cta-buttons><a href=http://kuzzle-backoffice.netlify.com/ target=_blank><button>Backoffice</button></a> <a href=http://kuzzle.io/install-kuzzle/ ><button>Install</button></a></div><div style=clear:both></div></nav></header><div class=container><div class=tocify-wrapper><p class=version-selector><select onchange="window.location = this.value"><option selected>Version 1.x</option></select></p><div class=tocify><ul class=tocify-header><li class=tocify-item>Plugins</li><ul class=tocify-subheader><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/plugins-creation-prerequisites title="requirements to develop your plugin">Plugins creation prerequisites</a></li><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/plugins-features title="understand Kuzzle plugins mechanisms">Plugins features</a></li><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/managing-plugins title="learn how to enable and configure plugins">Managing Plugins</a></li><li class="tocify-item tocify-focus"><a href=# title="plugin initialization context attribute reference">The plugin context</a></li><ul class=tocify-header><ul class=tocify-subheader><li class="tocify-item tocify-level-2 tocify-focus"><a href=/plugins-reference/plugins-context title="plugin initialization context attribute reference">Introductions</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-context/accessors title=accessors>accessors</a></li><li class="tocify-item tocify-level-2 tocify-focus"><a href=/plugins-reference/plugins-context/constructors title=constructors>constructors</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-context/errors title=errors>errors</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-context/log title=log>log</a></li></ul></ul><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/protocols title="Extend Kuzzle communication capabilities">Protocols</a></li></ul></ul><div class=toc-footer><div class=cta-buttons><a href=http://kuzzle-backoffice.netlify.com/ target=_blank><button>Backoffice</button></a> <a href=http://kuzzle.io/install-kuzzle/ ><button>Install</button></a></div></div></div><div class=floating-toggle><i class="icon icon-menu"></i> <i class="icon icon-cancel"></i></div></div><div class=page-wrapper><div class=content><div class=main-content><h1><a class=anchor id=constructors></a>constructors</h1><hr><h2><a class=anchor id=basevalidationtype></a><code>BaseValidationType</code></h2><p class=since>Since Kuzzle v1.0.0</p><p>The <code>BaseValidationType</code> constructor provides a base to create your own validation types. It provides a common structure for all validation types developped in Kuzzle.</p><p>You can find an example of a type creation in the <a href=https://github.com/kuzzleio/kuzzle/blob/master/lib/api/core/validation/types/type.js.template>Kuzzle source code</a>.</p><hr><h2><a class=anchor id=dsl></a><code>Dsl</code></h2><p class=since>Since Kuzzle v1.0.0</p><p>The DSL constructor provided in the plugin context gives access to <a href=/kuzzle-dsl>Kuzzle DSL capabilities</a>.<br>It allows managing filters, and testing data to get a list of matching filters.</p><p>Each plugin can instantiate its own sandboxed DSL instance:</p><pre><code class="hljs js"><span class=hljs-keyword>const</span> dsl = <span class=hljs-keyword>new</span> context.constructors.Dsl();</code></pre><p>The DSL exposes the following methods:</p><h4><a class=anchor id=exists></a><code>exists</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Returns a boolean indicating if filters exist for an index-collection pair</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>index</code></td><td><code>string</code></td><td>Data index name</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>Data collection name</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns <code>true</code> if at least one filter exists on the provided index-collection pair, returns <code>false</code> otherwise</p><h4><a class=anchor id=getfilterids></a><code>getFilterIds</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Retrieves filter IDs registered on an index-collection pair</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>index</code></td><td><code>string</code></td><td>Data index name</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>Data collection name</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>An <code>array</code> of <code>filterId</code> corresponding to filters registered on an index-collection pair.</p><h4><a class=anchor id=normalize></a><code>normalize</code></h4><p class=since>Since Kuzzle v1.1.0</p><p>Returns a promise resolved if the provided filters are well-formed.<br>The resolved object is a normalized and optimized version of the supplied filters, along with its corresponding Room unique identifier.</p><p>This method does not modify the DSL storage. To register the filters, the <a href=/plugins-reference/plugins-context/constructors/#store>store</a> method must be called afterwards.<br>If you do not need the Room unique identifier prior to store the DSL filters, then consider using <a href=/plugins-reference/plugins-context/constructors/#register>register</a> instead.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>index</code></td><td><code>string</code></td><td>Data index name</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>Data collection name</td></tr><tr><td><code>filters</code></td><td><code>object</code></td><td>Filters in <a href=/kuzzle-dsl>Kuzzle DSL</a> format</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>A <code>promise</code> resolving to an object containing the following attributes:</p><ul><li><code>index</code>: data index name</li><li><code>collection</code>: data collection name</li><li><code>normalized</code>: an object containing the optimized version of the supplied filters</li><li><code>id</code>: the room unique identifier</li></ul><h4><a class=anchor id=register></a><code>register</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Registers a filter to the DSL. This method is equivalent to executing <a href=/plugins-reference/plugins-context/constructors/#normalize>normalize</a> + <a href=/plugins-reference/plugins-context/constructors/#store>store</a>.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>index</code></td><td><code>string</code></td><td>Data index name</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>Data collection name</td></tr><tr><td><code>filters</code></td><td><code>object</code></td><td>Filters in <a href=/kuzzle-dsl>Kuzzle DSL</a> format</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>A <code>promise</code> resolving to an object containing the following attributes:</p><ul><li><code>id</code>: the filter unique identifier</li><li><code>diff</code>: <code>false</code> if the filter already existed in the engine. Otherwise, contains an object with the canonical version of the provided filters</li></ul><h4><a class=anchor id=remove></a><code>remove</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Removes all references to a given filter from the DSL</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>filterId</code></td><td><code>string</code></td><td>Filter unique ID. Obtained by using <code>register</code></td></tr></tbody></table></div><p><strong>Returns</strong></p><p>A <code>promise</code> resolved once the filter has been completely removed from the DSL</p><h4><a class=anchor id=store></a><code>store</code></h4><p class=since>Since Kuzzle v1.1.0</p><p>Stores normalized filters (obtained with <a href=/plugins-reference/plugins-context/constructors/#normalize>normalize</a>) in the DSL storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>normalized</code></td><td><code>Object</code></td><td>Normalized filters</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>An <code>Object</code> containing the following attributes:</p><ul><li><code>id</code>: the filter unique identifier</li><li><code>diff</code>: <code>false</code> if the filter already existed in the engine. Otherwise, contains an object with the canonical version of the provided filters</li></ul><h4><a class=anchor id=test></a><code>test</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Test data against filters registered in the DSL, returning matching filter IDs, if any.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>index</code></td><td><code>string</code></td><td>Data index name</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>Data collection name</td></tr><tr><td><code>data</code></td><td><code>object</code></td><td>Data to test against filters</td></tr><tr><td><code>documentId</code></td><td><code>string</code></td><td>If applicable, document unique ID</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>An array of <code>filterId</code> matching the provided data (and/or documentId, if any).</p><h4><a class=anchor id=validate></a><code>validate</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Tests the provided filters without storing them in the system, to check whether they are well-formed or not.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>filters</code></td><td><code>object</code></td><td>Filters in <a href=/kuzzle-dsl>Kuzzle DSL</a> format</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>A resolved promise if the provided filters are valid, or a rejected one with the appropriate error object otherwise.</p><hr><h2><a class=anchor id=repository></a><code>Repository</code></h2><p class=since>Since Kuzzle v1.0.0</p><p>The Repository constructor provided in the plugin context gives access to methods that allow the plugin to interact with its plugin storage. The plugin storage is a dedicated index in Elasticsearch where the plugin can <a href=/plugins-reference/plugins-context/accessors/#createcollection>create collections</a>. To do so the plugin should first <a href=/plugins-reference/plugins-context/accessors/#bootstrap>bootstrap</a> the index.</p><p>Once done, the plugin can instantiate repositories to interact with the different collections it created.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>collection</code></td><td><code>string</code></td><td>The collection linked to the repository</td></tr><tr><td><code>ObjectConstructor</code></td><td><code>constructor function</code></td><td>(optional) Will be used as constructor for the fetched documents instead of <code>Object</code></td></tr></tbody></table></div><p><strong>Usage</strong></p><p>Each plugin can instantiate its own repositories linked to its own sandboxed plugin storage:</p><pre><code class="hljs js"><span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>ObjectConstructor</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-keyword>this</span>.someProperty = <span class=hljs-string>&apos;someValue&apos;</span>;
}

<span class=hljs-keyword>var</span> someCollectionRepository = <span class=hljs-keyword>new</span> context.constructors.Repository(<span class=hljs-string>&apos;someCollection&apos;</span>, ObjectConstructor);</code></pre><p>The Repository exposes the following methods:</p><h4><a class=anchor id=create></a><code>create</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Creates a document in the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>document</code></td><td><code>Object</code></td><td>The document you want to create. It must contain a unique <code>_id</code> string property. You don&apos;t need to worry about collisions with other plugins as your plugin storage is only accessible by your plugin</td></tr><tr><td><code>options</code></td><td><code>Object</code></td><td>Optional arguments</td></tr></tbody></table></div><p>If a raw <code>options</code> object is provided, it may contain:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>refresh</code></td><td><code>string</code></td><td>Value can only be <code>wait_for</code> if provided. See <a href=https://www.elastic.co/guide/en/elasticsearch/reference/5.x/docs-refresh.html>Elasticsearch documentation</a> for more information.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an object respresentation of Elasticsearch request result.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.create({
  <span class=hljs-attr>_id</span>: <span class=hljs-string>&apos;&lt;a unique id&gt;&apos;</span>,
  <span class=hljs-attr>someField</span>: <span class=hljs-string>&apos;some content&apos;</span>,
  <span class=hljs-attr>anotherField</span>: <span class=hljs-string>&apos;another content&apos;</span>,
  ...
})
  .then(<span class=hljs-function><span class=hljs-params>result</span> =&gt;</span> {
    <span class=hljs-built_in>console</span>.log(result);
  });

<span class=hljs-comment>/**
 * Outputs:
 * { _index: &apos;%some-plugin&apos;,
 *   _type: &apos;someCollection&apos;,
 *   _id: &apos;&lt;a unique id&gt;&apos;,
 *   _version: 1,
 *   result: &apos;created&apos;,
 *   _shards: { total: 2, successful: 1, failed: 0 },
 *   created: true,
 *   _source: { someField: &apos;some content&apos;, anotherField: &apos;another content&apos; } }
 */</span></code></pre><aside class=warning>The document provided as argument should be a plain object representing the document you want to store.</aside><h4><a class=anchor id=createorreplace></a><code>createOrReplace</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Creates or replaces a document in the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>document</code></td><td><code>object</code></td><td>The document you want to create or replace. It must contain a unique <code>_id</code> string property. You don&apos;t need to worry about collisions with other plugins as your plugin storage is only accessible by your plugin</td></tr><tr><td><code>options</code></td><td><code>Object</code></td><td>Optional arguments</td></tr></tbody></table></div><p>If a raw <code>options</code> object is provided, it may contain:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>refresh</code></td><td><code>string</code></td><td>Value can only be <code>wait_for</code> if provided. See <a href=https://www.elastic.co/guide/en/elasticsearch/reference/5.x/docs-refresh.html>Elasticsearch documentation</a> for more information.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an object representation of Elasticsearch request result (see <a href=/plugins-reference/plugins-context/constructors/#create>create usage</a>).</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.createOrReplace({
  <span class=hljs-attr>_id</span>: <span class=hljs-string>&apos;&lt;a unique id&gt;&apos;</span>,
  <span class=hljs-attr>someField</span>: <span class=hljs-string>&apos;some content&apos;</span>,
  <span class=hljs-attr>anotherField</span>: <span class=hljs-string>&apos;another content&apos;</span>,
  ...
});</code></pre><aside class=warning>The document provided as argument should be a plain object representing the document you want to store.</aside><h4><a class=anchor id=delete></a><code>delete</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Deletes a document from the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>document</code></td><td><code>object</code></td><td>The document <code>_id</code> of the document you want to delete.</td></tr><tr><td><code>options</code></td><td><code>Object</code></td><td>Optional arguments</td></tr></tbody></table></div><p>If a raw <code>options</code> object is provided, it may contain:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>refresh</code></td><td><code>string</code></td><td>Value can only be <code>wait_for</code> if provided. See <a href=https://www.elastic.co/guide/en/elasticsearch/reference/5.x/docs-refresh.html>Elasticsearch documentation</a> for more information.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an array of objects which is a representation of the Elasticsearch request result.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.delete(<span class=hljs-string>&apos;someDocumentId&apos;</span>)
  .then(<span class=hljs-function><span class=hljs-params>result</span> =&gt;</span> {
    <span class=hljs-built_in>console</span>.log(result);
  });

<span class=hljs-comment>/**
 * Outputs:
 *  [ { found: true,
 *    _index: &apos;%some-plugin&apos;,
 *    _type: &apos;someCollection&apos;,
 *    _id: &apos;&lt;a unique id&gt;&apos;,
 *    _version: 3,
 *    result: &apos;deleted&apos;,
 *    _shards: { total: 2, successful: 1, failed: 0 } } ]
 */</span></code></pre><h4><a class=anchor id=get></a><code>get</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Retrieves a document from the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>documentId</code></td><td><code>string</code></td><td>The document identifier of the document you want to retrieve.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an <code>Object</code> or an <code>ObjectConstructor</code> if provided in the constructor.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.get(<span class=hljs-string>&apos;someDocumentId&apos;</span>, <span class=hljs-string>&apos;someCollection&apos;</span>);</code></pre><h4><a class=anchor id=mget></a><code>mGet</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Retrieves multiple documents from the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>documentIds</code></td><td><code>array&lt;string&gt;</code></td><td>An array of document identifier of the documents you want to retrieve.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an array of <code>Object</code> or <code>ObjectConstructor</code> if provided in the constructor.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.mGet([<span class=hljs-string>&apos;someDocumentId&apos;</span>, <span class=hljs-string>&apos;anotherDocument&apos;</span>]);</code></pre><h4><a class=anchor id=replace></a><code>replace</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Replaces a document in the plugin storage.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>document</code></td><td><code>object</code></td><td>The content of the document. It must contain a unique <code>_id</code> string property.</td></tr><tr><td><code>options</code></td><td><code>Object</code></td><td>Optional arguments</td></tr></tbody></table></div><p>If a raw <code>options</code> object is provided, it may contain:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>refresh</code></td><td><code>string</code></td><td>Value can only be <code>wait_for</code> if provided. See <a href=https://www.elastic.co/guide/en/elasticsearch/reference/5.x/docs-refresh.html>Elasticsearch documentation</a> for more information.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an object respresentation of Elasticsearch request result (see <a href=/plugins-reference/plugins-context/constructors/#create>create usage</a>).</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.replace({
  <span class=hljs-attr>_id</span>: <span class=hljs-string>&apos;&lt;a unique id&gt;&apos;</span>,
  <span class=hljs-attr>someField</span>: <span class=hljs-string>&apos;some content&apos;</span>,
  <span class=hljs-attr>anotherField</span>: <span class=hljs-string>&apos;another content&apos;</span>,
  ...
});</code></pre><aside class=warning>The document provided as argument should be a plain object representing the document you want to store.</aside><h4><a class=anchor id=search></a><code>search</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Searches documents that match the provided <code>query</code> in the collection.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>query</code></td><td><code>object</code></td><td>The <a href=/elasticsearch-cookbook/basic-queries>query</a> sent to Elastisearch.</td></tr><tr><td><code>from</code></td><td><code>integer</code></td><td>Provides the offset of the returned documents.</td></tr><tr><td><code>size</code></td><td><code>integer</code></td><td>Provides the count of the returned documents.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an object of the form <code>{total: number, hits: array&lt;object&gt;}</code> where <code>hits</code> contains an array of <code>Object</code> or <code>ObjectConstructor</code> if provided in the constructor and <code>total</code> the count of documents that match the query.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.search({
  <span class=hljs-attr>query</span>: {
    <span class=hljs-attr>match_all</span>: {}
  }
}, <span class=hljs-number>0</span>, <span class=hljs-number>10</span>);</code></pre><h4><a class=anchor id=update></a><code>update</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Updates a document in the plugin storage. You can provide a partial document to add or update one or more fields.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>document</code></td><td><code>object</code></td><td>The partial content of the document. It must contain a unique <code>_id</code> string property.</td></tr><tr><td><code>options</code></td><td><code>Object</code></td><td>Optional arguments</td></tr></tbody></table></div><p>If a raw <code>options</code> object is provided, it may contain:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>refresh</code></td><td><code>string</code></td><td>Value can only be <code>wait_for</code> if provided. See <a href=https://www.elastic.co/guide/en/elasticsearch/reference/5.x/docs-refresh.html>Elasticsearch documentation</a> for more information.</td></tr></tbody></table></div><p><strong>Returns</strong></p><p>Returns a <code>promise</code> that resolves to an object which is a representation of the Elasticsearch request result.</p><p><strong>Usage</strong></p><pre><code class="hljs js">someCollectionRepository.update({
  <span class=hljs-attr>_id</span>: <span class=hljs-string>&apos;&lt;a unique id&gt;&apos;</span>,
  <span class=hljs-attr>anotherField</span>: <span class=hljs-string>&apos;changed content&apos;</span>
});
<span class=hljs-comment>/**
 * Outputs:
 * { _index: &apos;%some-plugin&apos;,
 *   _type: &apos;someCollection&apos;,
 *   _id: &apos;&lt;a unique id&gt;&apos;,
 *   _version: 2,
 *   result: &apos;updated&apos;,
 *   _shards: { total: 0, successful: 0, failed: 0 } }
 */</span></code></pre><hr><h2><a class=anchor id=request></a><code>Request</code></h2><p class=since>Since Kuzzle v1.0.0</p><p>This constructor is used to transform an <a href=/api-documentation/query-syntax/common-attributes>API call</a> into a standardized Kuzzle request. This object is updated along the request process to reflect the current state of the request, and is ultimately used to serialize a standard <a href=/api-documentation/kuzzle-response>Kuzzle response</a>.</p><p>Network protocol specific headers can be added to the response. If the protocol can handle them, these headers will be used to configure the response sent to the client.<br>As Kuzzle supports the HTTP protocol natively, this object handles HTTP headers special cases. Other network protocols headers are stored in raw format, and protocol plugins need to handle their own specific headers manually.</p><p>For more information about this object, please check <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#request>our detailed documentation</a>.</p><h4><a class=anchor id=request-constructors></a>Constructors</h4><p><strong><code>new Request(&lt;request object&gt;, &lt;data&gt;, [options])</code></strong></p><p class=since>Since Kuzzle v1.0.0</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>request</code></td><td><code>Request</code></td><td><code>Request</code> object used to derive a new object instance</td></tr><tr><td><code>data</code></td><td><code>object</code></td><td>JSON object following the same standard than for non-HTTP <a href=/api-documentation/query-syntax>API calls</a><br>See the <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestinput>RequestInput</a> constructor for more information</td></tr><tr><td><code>options</code></td><td><code>object</code></td><td>Optional initialization parameters</td></tr></tbody></table></div><p>This constructor creates a new <code>Request</code> object from the provided one, and then adds the supplied data to complete the new object.</p><p>This constructor is particularly useful when a plugin needs to execute an API request derivated from a user request, as most of the relevant information will be carried over to the new object.</p><p>Properties that are automatically copied to the new object:</p><ul><li>All resources properties: <code>_id</code>, <code>collection</code>, <code>index</code></li><li>Additional arguments: <code>request.input.args</code></li><li>JSON Web Token, if any</li></ul><p>Example:</p><pre><code class="hljs js"><span class=hljs-keyword>const</span> derivedRequest = <span class=hljs-keyword>new</span> context.constructors.Request(request, {
  <span class=hljs-attr>controller</span>: <span class=hljs-string>&apos;document&apos;</span>,
  <span class=hljs-attr>action</span>: <span class=hljs-string>&apos;create&apos;</span>,
  <span class=hljs-attr>body</span>: {
    <span class=hljs-attr>document</span>: <span class=hljs-string>&apos;content&apos;</span>
  }
});</code></pre><p><strong><code>new Request(&lt;data&gt;, [options])</code></strong></p><p class=since>Since Kuzzle v1.2.0</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>object</code></td><td>JSON object following the same standard than for non-HTTP <a href=/api-documentation/query-syntax>API calls</a><br>See the <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestinput>RequestInput</a> constructor for more information</td></tr><tr><td><code>options</code></td><td><code>object</code></td><td>Optional initialization parameters</td></tr></tbody></table></div><p>This constructor allows for creating new <code>Request</code> objects without the need to provide a source.</p><p>The provided <code>data</code> object must contain a lot more information than what&apos;s needed by the constructor method described above, so if a <code>Request</code> object is available to your method, you should probably use it to instantiate one of those objects.</p><p>Example:</p><pre><code class="hljs js"><span class=hljs-keyword>const</span> request = <span class=hljs-keyword>new</span> context.constructors.Request({
  <span class=hljs-attr>controller</span>: <span class=hljs-string>&apos;document&apos;</span>,
  <span class=hljs-attr>action</span>: <span class=hljs-string>&apos;create&apos;</span>,
  <span class=hljs-attr>index</span>: <span class=hljs-string>&apos;index&apos;</span>,
  <span class=hljs-attr>collection</span>: <span class=hljs-string>&apos;collection&apos;</span>,
  <span class=hljs-attr>_id</span>: <span class=hljs-string>&apos;documentId&apos;</span>,
  <span class=hljs-attr>body</span>: {
    <span class=hljs-attr>document</span>: <span class=hljs-string>&apos;content&apos;</span>
  }
});</code></pre><p><strong>The &quot;options&quot; parameter</strong></p><p>If a raw <code>options</code> object is provided to one of the <code>Request</code> constructors (see above), then it may contain the following properties:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>connectionId</code></td><td><code>string</code></td><td>Passed to <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestcontext>RequestContext</a> constructor</td></tr><tr><td><code>error</code></td><td><code>KuzzleError</code> or <code>Error</code></td><td>Invokes <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#seterrorerror>setError</a> at initialization</td></tr><tr><td><code>protocol</code></td><td><code>string</code></td><td>Passed to <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestcontext>RequestContext</a> constructor</td></tr><tr><td><code>requestId</code></td><td><code>string</code></td><td>Initializes the <code>id</code> property</td></tr><tr><td><code>result</code></td><td><em>(varies)</em></td><td>Invokes <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#setresultresult-options--null>setResult</a> at initialization</td></tr><tr><td><code>status</code></td><td><code>integer</code></td><td>HTTP error code</td></tr><tr><td><code>token</code></td><td><code>object</code></td><td>Passed to <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestcontext>RequestContext</a> constructor</td></tr><tr><td><code>user</code></td><td><code>object</code></td><td>Passed to <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestcontext>RequestContext</a> constructor</td></tr></tbody></table></div><h4><a class=anchor id=attributes></a>Attributes</h4><p>Read-only</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>timestamp</code></td><td>integer</td><td>Request creation timestamp</td></tr></tbody></table></div><p>Writable</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>default</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>string</code></td><td>Auto-generated UUID</td><td>Request unique identifier</td></tr><tr><td><code>status</code></td><td><code>integer</code></td><td><code>102</code></td><td>HTTP status code</td></tr></tbody></table></div><p>Any undefined attribute from the list above will be set to null.</p><p>Please refer to our <a href=/api-documentation>API Documentation</a> for a complete list of controllers-actions and their purposes.</p><p>Getters</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>context</code></td><td><code>RequestContext</code></td><td><a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestcontext>RequestContext</a> object</td><td>Request connection context</td></tr><tr><td><code>error</code></td><td><code>KuzzleError</code></td><td><code>null</code></td><td>Request error, if any</td></tr><tr><td><code>input</code></td><td><code>RequestInput</code></td><td><a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#modelsrequestinput>RequestInput</a> object</td><td>Request&apos;s parameters</td></tr><tr><td><code>response</code></td><td><code>RequestResponse</code></td><td>Response view of the request, standardized as the expected <a href=/api-documentation/kuzzle-response>Kuzzle API response</a></td></tr><tr><td><code>result</code></td><td><em>(varies)</em></td><td><code>null</code></td><td>Request result, if any</td></tr></tbody></table></div><h4><a class=anchor id=response-getheader></a><code>response.getHeader</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Returns the value registered for the response header <code>name</code></p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>Header name</td></tr></tbody></table></div><h4><a class=anchor id=response-removeheader></a><code>response.removeHeader</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Removes header <code>name</code> from the response headers.</p><h4><a class=anchor id=setheader></a><code>setHeader</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Adds a header <code>name</code> with value <code>value</code> to the response headers.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>Header name</td></tr><tr><td><code>value</code></td><td><code>string</code></td><td>Header value</td></tr></tbody></table></div><p>For standard headers, if <code>name</code> already exists, then the provided <code>value</code> will be concatenated to the existing value, separated by a comma.</p><p>As Kuzzle implements HTTP natively, this behavior changes for some HTTP specific headers, to comply with the norm. For instance <code>set-cookie</code> values are amended in an array, and other headers like <code>user-agent</code> or <code>host</code> can store only 1 value.</p><h4><a class=anchor id=serialize></a><code>serialize</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Serializes the <code>Request</code> object into a pair of POJOs that can be sent across the network, and then used to rebuild another equivalent <code>Request</code> object.</p><pre><code class="hljs js"><span class=hljs-keyword>let</span> foo = request.serialize();
<span class=hljs-keyword>let</span> bar = <span class=hljs-keyword>new</span> context.constructors.Request(request, foo.data, foo.options);</code></pre><h4><a class=anchor id=seterror></a><code>setError</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Adds an error to the request, and sets the request&apos;s status to the error one.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>error</code></td><td><code>KuzzleError</code> or <code>Error</code></td><td>Error object to set</td></tr></tbody></table></div><p>If a <code>KuzzleError</code> is provided, the request&apos;s status attribute is set to the error one.</p><p>Otherwise, the provided error is encapsulated into a <a href=https://github.com/kuzzleio/kuzzle-common-objects/blob/master/README.md#errorsinternalerror>InternalError</a> object, and the request&apos;s status is set to 500.</p><h4><a class=anchor id=setresult></a><code>setResult</code></h4><p class=since>Since Kuzzle v1.0.0</p><p>Sets the request&apos;s result.</p><p><strong>Arguments</strong></p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>result</code></td><td><em>(varies)</em></td><td>Request&apos;s result</td></tr><tr><td><code>options</code></td><td><code>object</code></td><td>Optional parameters</td></tr></tbody></table></div><p>The <code>options</code> argument may contain the following properties:</p><div class=table-wrapper><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>status</code></td><td><code>integer</code></td><td>HTTP status code</td><td><code>200</code></td></tr><tr><td><code>headers</code></td><td><code>object</code></td><td>Protocol specific headers</td><td><code>null</code></td></tr><tr><td><code>raw</code></td><td><code>boolean</code></td><td>Asks Kuzzle to send the provided result directly,instead of encapsulating it in a Kuzzle JSON response</td><td><code>false</code></td></tr></tbody></table></div><div style="clear: both"></div></div><div class="nav-sibling bottom"><div class=nav-left><p><a href=https://github.com/kuzzleio/documentation/edit/master/src/plugins-reference/plugins-context/constructors.md>edit on github<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span> <a href="https://github.com/kuzzleio/documentation/issues/new?labels=plugins-reference&amp;title=Feedback%20about%20page%20&apos;plugins-reference/plugins-context/constructors.md&apos;">send feedback about this content<i class="icon icon-github icon-small"></i></a></p></div><div class=nav-right><p><a href=#>back to top &#x2191;</a></p></div><div style=clear:both></div></div></div></div><div class=license>&#xA9; 2018. All Rights Reserved - Kuzzle.io - <a href=https://github.com/kuzzleio/documentation/blob/master/LICENSE.md>Apache 2.0 License</a></div></div><script type=text/javascript>var path = 'plugins-reference/plugins-context/constructors';
  var site_url = 'http://docs.kuzzle.io'
  var site_base_path = '/'
  var ancestry_parent_path = 'plugins-reference'
  var report404ga = ''
  var algolia_projectId = '4RFBRWISJR'
  var algolia_publicKey = '6febf1ebe906bd82bce58d5a20ac6c1b'</script><script src=/assets/javascript/3a0a1b3b57c43c12d9ebf63abf6a09e66679de0f.min.js></script></body></html>