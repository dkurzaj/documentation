<!doctype html><html><head><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=msapplication-TileColor content=#FFFFFF><meta name=msapplication-TileImage content=http://docs.kuzzle.io/assets/images/favicon/mstile-144x144.png><meta name=msapplication-square70x70logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-70x70.png><meta name=msapplication-square150x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-150x150.png><meta name=msapplication-wide310x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x150.png><meta name=msapplication-square310x310logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x310.png><meta name=google-site-verification content=luspUdq52gkUU0FFChQ2xmeXSs5HDafpARQ7fVXVBp4><meta itemprop=name content="Adding an authentication strategy"><meta itemprop=image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta name=twitter:card value=summary><meta name=twitter:site content=@kuzzleio><meta name=twitter:title content="Adding an authentication strategy"><meta name=twitter:creator content=@kuzzleio><meta name=twitter:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta property=og:title content="Adding an authentication strategy"><meta property=og:type content=article><meta property=og:site_name content=""><meta property=og:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-96x96.png><meta property=article:published_time content=2018-01-23T17:02:36.377Z><meta property=article:modified_time content=2018-01-23T17:02:36.377Z><meta property=article:section content=Plugins><meta property=article:tag content="Plugins features"><link rel=apple-touch-icon-precomposed sizes=57x57 href=/assets/images/favicon/apple-touch-icon-57x57.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/assets/images/favicon/apple-touch-icon-114x114.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/assets/images/favicon/apple-touch-icon-72x72.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/favicon/apple-touch-icon-144x144.png><link rel=apple-touch-icon-precomposed sizes=60x60 href=/assets/images/favicon/apple-touch-icon-60x60.png><link rel=apple-touch-icon-precomposed sizes=120x120 href=/assets/images/favicon/apple-touch-icon-120x120.png><link rel=apple-touch-icon-precomposed sizes=76x76 href=/assets/images/favicon/apple-touch-icon-76x76.png><link rel=apple-touch-icon-precomposed sizes=152x152 href=/assets/images/favicon/apple-touch-icon-152x152.png><link rel=icon type=image/png href=/assets/images/favicon/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=/assets/images/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/images/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/images/favicon/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/assets/images/favicon/favicon-128.png sizes=128x128><link rel=stylesheet href=/assets/font-awesome/scss/font-awesome.css><title>Adding an authentication strategy - Plugins features - Plugins - Kuzzle documentation</title><style media=screen>@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;src:local('Ubuntu Regular'),local('Ubuntu-Regular'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCs6KVjbNBYlgoKfw7z.ttf) format('truetype')}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:500;src:local('Ubuntu Medium'),local('Ubuntu-Medium'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCv6KVjbNBYlgoCjC3jsGyI.ttf) format('truetype')}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:700;src:local('Ubuntu Bold'),local('Ubuntu-Bold'),url(http://fonts.gstatic.com/s/ubuntu/v11/4iCv6KVjbNBYlgoCxCvjsGyI.ttf) format('truetype')}.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
/*! normalize.css v3.0.2 | MIT License | git.io/normalize */
html{-ms-text-size-adjust:100%}blockquote>p,pre>p{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}hr{box-sizing:content-box;height:0}pre{overflow:auto}kbd,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto}.content dt,optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}th{padding:0}@font-face{font-family:'slate';src:url(../../../assets/fonts/slate.eot?-syv14m);src:url(../../../assets/fonts/slate.eot?#iefix-syv14m) format("embedded-opentype"),url(../../../assets/fonts/slate.woff2?-syv14m) format("woff2"),url(../../../assets/fonts/slate.woff?-syv14m) format("woff"),url(../../../assets/fonts/slate.ttf?-syv14m) format("truetype"),url(../../../assets/fonts/slate.svg?-syv14m#slate) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'Gobold';src:url(../../../assets/fonts/Gobold.eot);src:url(../../../assets/fonts/Gobold.eot?#iefix) format("embedded-opentype"),url(../../../assets/fonts/Gobold.woff) format("woff"),url(../../../assets/fonts/Gobold.ttf) format("truetype");font-weight:700;font-style:normal}.content h1,.content h2{color:#002835;font-weight:300}.content aside a,.content aside a:visited,.content li a,.content li a:visited,.content p a,.content p a:visited,.content table a,.content table a:visited,body,html{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace;font-weight:300}.content h3,.content h4,.content h5,.content h6{color:#002835}.content h2,.content h3,.content h4,.content h5,.content h6{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace}aside code,blockquote code,code,li code,p code,table code{font-size:14px}aside code,blockquote code,code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code,li code,p code,pre,table code{font-family:Consolas,Menlo,Monaco,"Lucida Console","Liberation Mono","DejaVu Sans Mono","Bitstream Vera Sans Mono","Courier New",monospace,serif;line-height:1.3}pre{font-size:14px}.content aside a,.content aside a:visited,.content li a,.content li a:visited,.content p a,.content p a:visited,.content table a,.content table a:visited,.tocify-wrapper a{color:#3498db;text-decoration:none}aside code,blockquote code,code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code,li code,p code,table code{word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.highlight .c,.highlight .c1,.highlight .cm,.highlight .cs{color:#909090}.highlight,.highlight .w{background-color:#383838}body,html{color:#333;padding:0;margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#fff;height:100%;-webkit-text-size-adjust:none}body{position:relative}*,:after,:before{box-sizing:border-box}a,abbr,address,b,cit,dd,del,dfn,dl,dt,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,ins,label,legend,li,p,q,samp,small,strong,sub,sup{border:0;vertical-align:baseline;margin:0;padding:0}blockquote,code,ol,pre,ul{vertical-align:baseline;margin:0}blockquote,code{border:0}ol,pre,ul{padding:0}ol,ul{border:0;margin:0 0 0 25px}article,aside,audio,canvas,caption,details,div,figure,footer,header,hgroup,iframe,img,mark,menu,nav,object,section,span,summary,table,tbody,td,tfoot,thead,tr,video{border:0;margin:0;padding:0}li{font-size:1em}@font-face{font-family:'kuzzle-icon';src:url(./../../../fonts/kuzzle-icon.eot?-cyrvtz);src:url(./../../../assets/fonts/kuzzle-icon.eot?#iefix-cyrvtz) format("embedded-opentype"),url(./../../../assets/fonts/kuzzle-icon.ttf?-cyrvtz) format("truetype"),url(./../../../assets/fonts/kuzzle-icon.woff?-cyrvtz) format("woff"),url(./../../../assets/fonts/kuzzle-icon.svg?-cyrvtz#kuzzle-icon) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'icomoon';src:url(./../../../assets/fonts/icomoon.eot?-cyrvtz);src:url(./../../../assets/fonts/icomoon.eot?#iefix-cyrvtz) format("embedded-opentype"),url(./../../../assets/fonts/icomoon.ttf?-cyrvtz) format("truetype"),url(./../../../assets/fonts/icomoon.woff?-cyrvtz) format("woff"),url(./../../../assets/fonts/icomoon.svg?-cyrvtz#icomoon) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'slate';src:url(../../../assets/fonts/slate.eot?-syv14m);src:url(../../../assets/fonts/slate.eot?#iefix-syv14m) format("embedded-opentype"),url(../../../assets/fonts/slate.woff2?-syv14m) format("woff2"),url(../../../assets/fonts/slate.woff?-syv14m) format("woff"),url(../../../assets/fonts/slate.ttf?-syv14m) format("truetype"),url(../../../assets/fonts/slate.svg?-syv14m#slate) format("svg");font-weight:400;font-style:normal}@font-face{font-family:'Gobold';src:url(../../../assets/fonts/Gobold.eot);src:url(../../../assets/fonts/Gobold.eot?#iefix) format("embedded-opentype"),url(../../../assets/fonts/Gobold.woff) format("woff"),url(../../../assets/fonts/Gobold.ttf) format("truetype");font-weight:700;font-style:normal}.content aside.notice:before,.content aside.success:before,.content aside.warning:before{font-family:'slate';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1}.content aside.warning:before{content:"\e600"}.content aside.notice:before{content:"\e602"}.content aside.success:before{content:"\e606"}.since{font-size:.9rem;opacity:.7}.deprecated{font-size:1rem;color:#fff!important;background-color:#e94e77;display:inline-block}.tocify-wrapper{position:fixed;z-index:1;top:0;left:0;bottom:0;width:320px;padding:1em 0 0 4em;overflow-y:auto;overflow-x:hidden;background-color:#393939;background:#fbfbfb;box-shadow:rgba(0,0,0,.1) 0 0 9px}.tocify-wrapper li,.tocify-wrapper ul{list-style:none;margin:0;padding:0;line-height:26px}.tocify-wrapper li .tocify-item,.tocify-wrapper ul .tocify-item{font-size:16px}@media (max-width:865px){.tocify-wrapper li .tocify-item,.tocify-wrapper ul .tocify-item{line-height:31px;font-size:20px}}.tocify-wrapper a{color:#002835}.tocify-wrapper .cta-buttons{display:none}@media (max-width:865px){.tocify-wrapper .cta-buttons{display:block}}.tocify-wrapper .cta-buttons button{background:#e94e77;border:0;padding:1em;font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px}.tocify-wrapper .tocify-header>.tocify-item{color:#111;text-decoration:none;text-transform:uppercase;border-bottom:1px solid #bbb;padding:2em 0 1em;margin:0 4em 1em 0}.tocify-wrapper .tocify-header .tocify-subheader{background:0 0}.tocify-wrapper .tocify-header .tocify-subheader .tocify-level-2{padding-left:15px;font-size:15px}@media (max-width:865px){.tocify-wrapper .tocify-header .tocify-subheader .tocify-level-2{font-size:18px}}.tocify-wrapper .tocify-header .tocify-subheader>li:last-child{box-shadow:none}.tocify-wrapper .tocify-header .tocify-focus>a{color:#e94e77}.tocify-wrapper .toc-footer{padding:2em 0}.tocify-wrapper .toc-footer li{display:block;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:.8em;line-height:1.7}.language-tab-selector a,.tocify-wrapper .toc-footer a,.tocify-wrapper .toc-footer li,blockquote a,pre a{color:#fff;text-decoration:none}.tocify-wrapper .toc-footer a:hover{text-decoration:underline}.tocify-wrapper .floating-toggle{display:none}@media (max-width:635px){.tocify-wrapper .floating-toggle{display:inline-block}}.tocify-wrapper .floating-toggle .icon-menu{opacity:1}.tocify-wrapper .floating-toggle .icon-cancel,.tocify-wrapper.open .floating-toggle .icon-menu{opacity:0}.tocify-wrapper.open .floating-toggle .icon-cancel{opacity:1}.version-selector select{font-size:14px;background:#f3f3f3;border:1px solid #e4e4e4;border-radius:4px;padding:10px}@media (max-width:865px){.version-selector select{font-size:19px}}.floating-toggle{background:#002835;border-radius:50%;height:70px;width:70px;position:fixed;bottom:20px;right:20px;box-shadow:rgba(0,0,0,.44) 2px 2px 11px 0;z-index:3}.floating-toggle .icon{transition:all .2s;position:absolute;top:16.5px;left:16.5px}.container .tocify-wrapper{top:126px}@media (max-width:635px){.container .tocify-wrapper{top:50px}}.container,blockquote,pre{position:relative}.container .page-wrapper{position:relative;margin-left:320px;min-height:100%;padding:126px 0 1px}.container .page-wrapper .content{margin:0 0 0 100px;max-width:960px}.container .page-wrapper .content .main-content{padding-bottom:40px}code,li code,p code,table code{background-color:#f5e0e6}aside code,code,li code,p code,table code{padding:3px 5px;border-radius:4px}blockquote code,h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{background-color:#f5e0e6;padding:3px 5px;border-radius:4px}@media (max-width:1200px){aside code,blockquote code,code,li code,p code,table code{font-size:95%}}h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{font-size:inherit}aside code{background-color:#d5d5d5}blockquote,pre{box-sizing:border-box}blockquote a,pre a{border-bottom:dashed 1px #ccc}blockquote{padding:0!important}blockquote>p{background-color:#bae8f5;padding:13px;color:#002835!important}pre{border:solid 1px #e4e4e4;background:#fbfbfb;border-radius:4px}pre .clipboard{position:absolute;right:0;top:0;padding:6px 8px;background:rgba(0,0,0,.07);border:0;font-family:Ubuntu,Arial,monospace;font-size:11px;opacity:0;outline:0;transition:opacity .3s;color:#111}pre .clipboard i{color:#666}pre .clipboard:hover{background:rgba(0,0,0,.15)}pre .clipboard:hover i{color:#111}#nav-button:hover,.nav-sibling .br-theme-fontawesome-stars .br-widget .br-current-rating.visible,pre:hover .clipboard{opacity:1}.hljs{padding:25px;display:block}.language-tab,header nav>ul li.btn-hamburger,header nav>ul li.btn-hamburger a:after{display:none}.dropdown-btn ul.nav-dropdown li,.dropdown-btn.open ul.nav-dropdown,.language-tab.language-meta-tab,.language-tab.language-tab-active,header .wrapper .search.display-results .search-results{display:block}.language-tab-selector{background-color:#002835;font-weight:700;margin:10px 0 -10px;position:relative;border-bottom:4px solid #bae8f5;width:50%;float:right;clear:right}@media (max-width:1200px){.language-tab-selector{float:none;width:100%}}.language-tab-selector a{display:block;float:left;padding:0 10px;line-height:30px;outline:0}.language-tab-selector a:active,.language-tab-selector a:focus{background-color:#111;color:#fff}.language-tab-selector a.language-tab-active{background-color:#bae8f5;color:#002835}.language-tab-selector:after{content:'';clear:both;display:block}.icon{font-family:'kuzzle-icon','icomoon';speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-size:36px;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon.icon-x-small{font-size:12px}.icon.icon-medium{font-size:26px}.icon.icon-large{font-size:45px}.icon.icon-yellow{color:#efc94c}.icon.icon-light{color:#bae8f5}.icon.icon-dark{color:#004b52}.icon.icon-grey{color:#33393f}.icon.icon-middle{vertical-align:middle}.icon.icon-sub{vertical-align:sub}.icon.icon-tooltip{padding:0 10px;display:inline-block}.icon.icon-play_arrow:before{content:"\e01b"}.icon.icon-download-alt:before{content:"\e0ff"}.icon.icon-arrow-down:before{content:"\e10f"}.icon.icon-arrow-up:before{content:"\e112"}.icon.icon-menu:before{content:"\e20e"}.icon.icon-code:before{content:"\e284"}.icon.icon-settings_ethernet:before{content:"\e2d1"}.icon.icon-reading:before{content:"\e620"}.icon.icon-collaboration:before{content:"\e616"}.icon.icon-diploma1:before{content:"\e617"}.icon.icon-download2:before{content:"\e618"}.icon.icon-external:before{content:"\e619"}.icon.icon-info:before{content:"\e61a"}.icon.icon-left-round:before{content:"\e61b"}.icon.icon-left-arrow:before{content:"\e61c"}.icon.icon-right-arrow:before,.icon.icon-right-round:before{content:"\e61b";-webkit-transform:scaleX(-1);transform:scaleX(-1);display:inline-block}.icon.icon-right-arrow:before{content:"\e61c"}.icon.icon-puzzle:before{content:"\e61d"}.icon.icon-elasticsearch:before{content:"\e620"}.icon.icon-checkmark:before{content:"\e61e"}.icon.icon-contacts:before{content:"\e61f"}.icon.icon-linkedin:before{content:"\e615"}.icon.icon-cancel:before{content:"\e614"}.icon.icon-quote-alt:before{content:"\e613"}.icon.icon-alert:before{content:"\e60f"}.icon.icon-bookmark:before{content:"\e610"}.icon.icon-check:before{content:"\e611"}.icon.icon-star:before{content:"\e612"}.icon.icon-idea:before{content:"\e60e"}.icon.icon-download:before{content:"\e60d"}.icon.icon-ask:before{content:"\e600"}.icon.icon-buisiness:before{content:"\e601"}.icon.icon-doc:before{content:"\e602"}.icon.icon-email:before{content:"\e603"}.icon.icon-games:before{content:"\e604"}.icon.icon-get-started:before{content:"\e605"}.icon.icon-github:before{content:"\e606"}.icon.icon-iot:before{content:"\e607"}.icon.icon-mobile:before{content:"\e608"}.icon.icon-quote:before{content:"\e609"}.icon.icon-social-media:before{content:"\e60a"}.icon.icon-twitter:before{content:"\e60b"}.icon.icon-websites:before{content:"\e60c"}.icon.icon-eye-plus:before{content:"\e900"}.icon.icon-small{font-size:18px}.github,header{background-color:#002835}.github{overflow:hidden}.github .icon{position:relative;line-height:27px;font-size:25px;color:#fff}@media (max-width:1200px){.github .icon{font-size:21px}}.github .icon:after,.github .icon:before{transition-duration:.3s;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:hvr-icon-drop;animation-name:hvr-icon-drop;content:"\e606";opacity:1;display:inline-block;-webkit-transform:translateY(0);transform:translateY(0)}.github .icon:after{content:"\e0ff";opacity:0;position:absolute;left:-2px;top:-1px;font-size:1.3em;-webkit-transform:translateY(-160%);transform:translateY(-160%)}.github:hover .icon:before{display:inline-block;color:transparent;opacity:0;-webkit-transform:translateY(160%);transform:translateY(160%)}.github:hover .icon:after{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}#nav-button{padding:0 1.5em 5em 0;display:none;position:fixed;top:0;left:0;z-index:100;color:#000;font-weight:700;opacity:.7;line-height:16px;transition:left .3s ease-in-out}#nav-button span{display:block;padding:6px;background-color:rgba(240,240,240,.7);-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:rotate(-90deg) translate(-100%,0);transform:rotate(-90deg) translate(-100%,0);border-radius:0 0 0 5px}#nav-button img{height:16px;vertical-align:bottom}#nav-button.open{left:320px}header{box-shadow:rgba(0,0,0,.1) 0 0 9px;width:100%;position:fixed;z-index:2;transition:all .4s}header .wrapper{background-color:#fff;padding:1em 4em;height:75px}@media (max-width:1200px){header .wrapper{padding:1em 2em}}@media (max-width:865px){header .wrapper{height:auto;max-height:75px}}@media (max-width:635px){header .wrapper{height:0;overflow:hidden;padding:0}}header .wrapper .logo img{width:90px;margin:5px 2em 5px 0}@media (max-width:865px){header .wrapper .logo img{margin:5px 1em 5px 0}}#nav-button,header .wrapper a{text-decoration:none}header .wrapper h1{display:inline-block;vertical-align:top;font-size:1.8em;padding-top:3px;color:#adadad;font-weight:100}header .wrapper .search{float:right;position:relative;margin:5px auto 7px}@media (max-width:865px){header .wrapper .search{position:absolute;right:2em;top:16px;z-index:10}}@media (max-width:635px){header .wrapper .search{margin:0 auto;top:6px}}header .wrapper .search:after{display:inline-block;font:13px/1 FontAwesome;font-size:90%;text-rendering:auto;content:"\f002";right:10px;top:10px;position:absolute}@media (max-width:635px){header .wrapper .search:after{color:#fff;font-size:100%;top:10px;opacity:1}header .wrapper .search.focused:after{color:#002835}}header .wrapper .search input[type=search]{-webkit-transition:all .5s;outline:0;border-radius:4px;width:220px;border:1px solid #d0d0d0;letter-spacing:.2px;line-height:2;padding:2px 22px 2px 10px;font-size:1em;display:inline-block;margin:0;height:32px}@media (max-width:1200px){header .wrapper .search input[type=search]{font-size:90%}}@media (max-width:635px){header .wrapper .search input[type=search]{width:30px;opacity:0}}header .wrapper .search input[type=search]:hover{border-color:#e94e77}header .wrapper .search input[type=search]:focus{border-color:#e94e77;width:320px;opacity:1}@media (max-width:635px){header .wrapper .search input[type=search]:focus{width:220px;font-size:100%}}header .wrapper .search.display-results input[type=search]{border-color:#e94e77;width:320px;opacity:1}@media (max-width:635px){header .wrapper .search.display-results input[type=search]{width:220px}header .wrapper .search.display-results:after{color:#002835}}header .wrapper .search .search-results{margin:0 auto;display:none;max-width:1170px;position:relative;height:100%}header .wrapper .search .search-results ul{background:#fff;max-width:410px;text-align:left;position:absolute;padding:5px;box-shadow:0 1px 4px 0 #ccc;margin-left:0;z-index:60}@media (max-width:1200px){header .wrapper .search .search-results ul{max-width:350px}}@media (max-width:635px){header .wrapper .search .search-results ul{max-width:350px}}header .wrapper .search .search-results ul li{padding:0;list-style:none;border-bottom:#999 1px dashed}header .wrapper .search .search-results ul li:last-of-type{border-bottom:0}header .wrapper .search .search-results ul li p em{background:#bae8f5;font-style:normal}header .wrapper .search .search-results ul li p.page{line-height:1.5}header .wrapper .search .search-results ul li p.page span.title{font-size:15px;padding-right:5px;font-weight:500;color:#002835}header .wrapper .search .search-results ul li p.page span.title:before{content:" ";padding-right:3px;width:8px;display:inline-block}header .wrapper .search .search-results ul li p.page span.firstMember,header .wrapper .search .search-results ul li p.page span.parent{font-size:11px;padding:4px 6px;color:#666;background:#eee;font-weight:400}header .wrapper .search .search-results ul li p.preview{font-size:11px;line-height:1.3;color:#999;padding:7px 8px 7px 5px;font-weight:400}header .wrapper .search .search-results ul li p.preview em{background-color:#dcf7ff}header .wrapper .search .search-results ul li a{display:block;background:#fff;padding:5px;outline:0}header .wrapper .search .search-results ul li a:focus,header .wrapper .search .search-results ul li a:hover{background:#f0f0f0}header .wrapper .search .search-results ul li a:focus .title:before,header .wrapper .search .search-results ul li a:hover .title:before{content:"›"!important}header nav{background-color:#002835;padding:0 4em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:1200px){header nav{padding:0 2em}}header nav .logo-phone img{width:60px;margin-right:15px;display:none}@media (max-width:635px){header nav .logo-phone img{display:block;margin-right:5px}}header nav>ul{margin-left:0}@media (max-width:635px){header nav>ul{padding:0 10px;overflow-x:scroll;overflow-y:visible;white-space:nowrap;mask-image:linear-gradient(to right,transparent,#002835 20px,#002835 90%,transparent);-webkit-mask-image:linear-gradient(to right,transparent,#002835 20px,#002835 90%,transparent)}}header nav>ul li{margin-right:15px;display:inline-block;vertical-align:middle;list-style:none;overflow-y:visible}@media (max-width:865px){header nav>ul li.btn-hamburger{display:inline-block}}@media (max-width:635px){header nav>ul li.btn-hamburger{display:none}}header nav>ul li.btn-hamburger .icon{position:relative;line-height:22px;font-size:25px}header nav>ul li .nav-item{font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;transition:all .5s;position:relative;display:block;line-height:20px;cursor:pointer;padding:11px 0}.dropdown-btn ul.nav-dropdown li .dropdown-item:after,header nav>ul li .nav-item:after{content:'';display:block;position:absolute;bottom:6px;left:0;width:0;height:2px;background-color:#fff;white-space:nowrap;transition:.5s ease}header nav>ul li .nav-item:first-child{padding-left:0}@media (max-width:635px){header nav>ul li .nav-item.item-cookbooks i{display:none}}header nav>ul li.active>.nav-item:after{width:100%}header nav .spacer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}@media (max-width:635px){header nav .spacer{display:block;min-width:30px;-ms-flex-preferred-size:30px;flex-basis:30px}}@media (max-width:865px){header nav .cta-buttons{display:none}}header nav .cta-buttons button{background:#e94e77;border:0;padding:11px;font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;margin:0 0 0 5px}body:not(.touchevents) nav .nav-item:not(.github):hover:after{width:100%}.dropdown-btn{position:relative}.dropdown-btn ul.nav-dropdown{padding:0 20px 20px;position:absolute;left:-20px;background-color:#002835;z-index:200000;margin:0;display:none}.dropdown-btn ul.nav-dropdown li .dropdown-item{font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;font-size:15px;transition:all .5s;position:relative;display:block;padding:15px 0;line-height:20px;cursor:pointer}.dropdown-btn ul.nav-dropdown li .dropdown-item:hover:after,.dropdown-btn ul.nav-dropdown li.active>.dropdown-item:after{width:100%}.nav-sibling{height:45px;clear:both;border-bottom:solid 5px #f0f0f0}.nav-sibling a .icon-github{color:#afafaf;font-size:12px;vertical-align:text-bottom;margin-left:6px}.nav-sibling a:hover .icon-github{text-decoration:underline;-webkit-text-decoration-color:#fff;-moz-text-decoration-color:#fff;text-decoration-color:#fff}.nav-sibling .br-theme-fontawesome-stars{display:inline-block;margin:0 5px}.nav-sibling .br-theme-fontawesome-stars .br-widget{white-space:nowrap}.nav-sibling .br-theme-fontawesome-stars .br-widget a{font:20px/1 FontAwesome;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:2px;text-decoration:none!important;font-size:13px;padding:0}.nav-sibling .br-theme-fontawesome-stars .br-widget a:after{content:'\f006';color:#d2d2d2}.nav-sibling .br-theme-fontawesome-stars .br-widget a.br-active:after,.nav-sibling .br-theme-fontawesome-stars .br-widget a.br-selected:after{content:'\f005';color:#edb867}.nav-sibling .br-theme-fontawesome-stars .br-widget .br-current-rating{display:inline-block;color:#afafaf;margin-left:5px;opacity:0;transition:opacity .2s}.nav-sibling .br-theme-fontawesome-stars .br-readonly a{cursor:default}.nav-sibling.bottom{margin-top:30px;margin-bottom:0;border-bottom:0;border-top:solid 5px #f0f0f0}.nav-sibling p{margin:0;font-size:11px}.nav-sibling p a{color:#3498db;font-size:13px;padding:0 7px;font-weight:500}.nav-sibling .nav-left{text-align:left;float:left}.nav-sibling .nav-left p a{color:#afafaf}.nav-sibling .nav-right{text-align:right;float:right}.nav-sibling .nav-left,.nav-sibling .nav-right{width:70%;overflow:visible;white-space:nowrap}.nav-sibling .nav-right{width:30%}.content .search-highlight{padding:2px;margin:-2px;border-radius:4px;border:1px solid #f7e633;background:linear-gradient(to top left,#f7e633 0%,#f1d32f 100%)}.content .panels{padding:35px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center}.content .panel{display:inline-block;width:50%}.content .panel a{text-decoration:none;margin:10px 20px 30px;display:block;padding:15px 25px;border:solid 1px #ddd;background-color:#fff;-webkit-animation:1s all;animation:1s all;box-shadow:0}.content .panel a:hover{box-shadow:2px 2px 12px 0 rgba(0,0,0,.2)}.content .panel-title{color:#111;text-decoration:none!important;font-family:"Ubuntu";font-weight:700;font-size:20px}.content .panel-title .icon{color:#002835;vertical-align:-8px;margin-right:7px}.content .panel-content{color:#555;padding:25px 0 10px}.content .panel-content button{display:block;margin-top:24px;background-color:#bae8f5;color:#002835;font-weight:500;width:100%;border:0;padding:7px 30px}.container .highlight .err{color:#d0d0d0;background:0 0}.container .page-wrapper,.developer-nav>ul li,.developer-nav>ul li a,.tocify-wrapper,body .mobile-nav li{transition:all .2s}header .mobile-nav{display:none}header .mobile-nav-burger{transition:all .2s;display:none}header header .wrapper{transition:all .5s}.content{transition:margin .2s}.content .mobile-breadcrumb,.large-only,.medium-only,.mobile-only{max-height:0;overflow:hidden;transition:all .2s}.content .nav-sibling,.content .nav-sibling.bottom .nav-left,.content .nav-sibling.bottom .nav-right{transition:all .2s}.large-only,.medium-only,.mobile-only{padding:0;margin:0}@media (max-width:865px){.tocify-wrapper{left:-320px}.tocify-wrapper.open{left:0;box-shadow:rgba(0,0,0,.44) 0 0 17px}#nav-button{display:block}.tocify-wrapper .tocify-item>a{padding-top:.3em;padding-bottom:.3em}}@media (max-width:635px){.tocify-wrapper .lang-selector{display:block}.page-wrapper .lang-selector{display:none}blockquote,pre{width:auto;float:none}}@media (max-width:1440px){.large-only{max-height:500px}.container .page-wrapper .content{margin:0 2em}}@media (max-width:1200px){.medium-only{max-height:500px}.container .tocify-wrapper{width:300px;padding-left:2em}.container .page-wrapper{margin-left:300px}.developer-nav>ul li{padding:0 7px}.developer-nav>ul li a{font-weight:500;font-size:13px}.container .page-wrapper .toc{opacity:0}.content h1>.anchor,.content h2>.anchor,.content h3>.anchor,.content h4>.anchor,.content h5>.anchor,.content h6>.anchor{top:-160px}.content .nav-sibling.bottom{max-height:500px;height:auto;padding:7px}.content .nav-sibling.bottom a{padding:7px}.content .nav-sibling.bottom .nav-left,.content .nav-sibling.bottom .nav-right{float:none;text-align:center;width:100%}.content .nav-sibling.bottom .nav-left .br-current-rating.visible,.content .nav-sibling.bottom .nav-right .br-current-rating.visible{opacity:0;display:none}}@media (max-width:865px){.mobile-only{max-height:500px}body .mobile-nav li{opacity:0}body.nav-burger-open header{box-shadow:rgba(0,0,0,.45) 0 49px 67px 0}body.nav-burger-open header ul{margin:0}body.nav-burger-open header ul.mobile-nav{display:block;background:#fff;margin:8px 0 0;padding-top:8px}body.nav-burger-open header ul.mobile-nav li{opacity:1}body.nav-burger-open header ul.mobile-nav>.active>a{padding:10px 0 1px;border-bottom:solid 1px #fff}body.nav-burger-open header ul.mobile-nav .sub-nav{background-color:rgba(255,255,255,.6)}body.nav-burger-open header ul.mobile-nav .sub-nav li{min-height:0}body.nav-burger-open header ul.mobile-nav .sub-nav li a:before{padding-left:9px;content:" "}body.nav-burger-open header ul.mobile-nav .sub-nav li:first-of-type{padding-top:10px}body.nav-burger-open header ul.mobile-nav .sub-nav li:last-of-type{padding-bottom:10px}body.nav-burger-open header ul.mobile-nav .sub-nav a:hover:before,body.nav-burger-open header ul.mobile-nav .sub-nav li.active a:before{padding-left:2px;padding-right:2px;content:"›"}body.nav-burger-open header ul.mobile-nav .sub-nav a{padding:6px 6px 2px;font-weight:400;font-size:11px}body.nav-burger-open header ul.mobile-nav .sub-nav a span{display:inline-block;border-bottom:2px transparent!important}body.nav-burger-open header ul.mobile-nav>li{min-height:42px;margin:0;padding:0}body.nav-burger-open header ul.mobile-nav>li:last-of-type{min-height:0;border-bottom:2px transparent!important}body.nav-burger-open header ul.mobile-nav>li:last-of-type a,body.nav-burger-open header ul.mobile-nav>li:last-of-type.active{padding-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li:last-of-type a:hover span{border-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li.active{padding:0 0 10px;border-bottom:0!important}body.nav-burger-open header ul.mobile-nav>li.active a:after{content:'';width:0}body.nav-burger-open header ul.mobile-nav>li a:hover span,body.nav-burger-open header ul.mobile-nav>li.active a span{border-bottom:solid 2px #002835}body.nav-burger-open header ul.mobile-nav>li a{color:#002835;padding:10px 0;line-height:3px;text-transform:none;font-family:Ubuntu;font-weight:500}body.nav-burger-open header ul.mobile-nav>li a span{padding:0 12px 17px;display:block}body.nav-burger-open header .mobile-nav-burger:before{content:"\f00d"}body.nav-burger-open header .wrapper{max-height:1500px}header .mobile-nav-burger{position:absolute;right:0;top:0;color:#fff;padding:25px;display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased}header .mobile-nav-burger:before{content:"\f0c9";font-size:25px}header .wrapper nav{display:block;position:initial}header .wrapper nav ul li{float:none}header .wrapper #logo{-webkit-transform-origin:center -14px;transform-origin:center -14px;-webkit-transform:scale(.8);transform:scale(.8);margin:0 auto;text-align:center;width:100%}header .wrapper #logo a{margin:0 auto}.container .tocify-wrapper{padding-left:2em;width:320px}.container .page-wrapper{margin-left:0}.developer-nav>ul.nav,.developer-nav>ul.search:after{display:none}.developer-nav>ul.search{float:none}.developer-nav>ul.search li{padding:0;margin:0 auto;display:block;width:100%}.developer-nav>ul.search li input[type=search]{text-align:center;margin:0 auto;display:block}.developer-nav>.search-results ul{position:unset;margin:44px auto}.content .mobile-breadcrumb{max-height:none;padding:10px}.content .mobile-breadcrumb p{font-size:12px;margin:0;padding:0}.content .mobile-breadcrumb p a{font-size:12px}.content .nav-sibling{max-height:0;padding:0}.content .nav-sibling .separator{display:block;height:0;overflow:hidden;margin:2px 0}}.license{text-align:center;color:#afafaf;font-size:12px;padding:15px}.content pre code a{color:inherit;font-size:inherit!important}ul.sdk-list{list-style-type:none;margin-left:0;padding-left:25px!important}ul.sdk-list li.sdk-item h2{margin-top:15px;border-left:none;border-bottom:1px solid #ddd}ul.sdk-list li.sdk-item img{height:45px}ul.sdk-list li.sdk-item .sdk-logos{vertical-align:top;width:30%;display:inline-block;padding:15px 0 0 10px}ul.sdk-list li.sdk-item .sdk-sources{width:70%;display:inline-block}ul.sdk-list li.sdk-item .sdk-sources-list{padding-top:10px;list-style-type:none}.content:after{content:'';display:block;clear:both}.content aside,.content dl,.content h1,.content h2,.content h3,.content h4,.content h5,.content h6,.content ol,.content ul{box-sizing:border-box;display:block}.content h1{font-family:"Ubuntu Light","Helvetica","Arial","sans-serif",monospace;clear:both;font-size:4em}@media (max-width:1440px){.content h1{font-size:3.5em}}@media (max-width:1200px){.content h1{font-size:3em}}.content h1,.content h2{padding-top:30px}.content h1 a,.content h2 a,.content h3 a,.content h4 a,.content h5 a,.content h6 a{color:#3498db;text-decoration:none}.content h1+ul,.content h2+ul,.content h3+ul,.content h4+ul,.content h5+ul,.content h6+ul{margin-top:25px}.content h2{font-size:2.5em}@media (max-width:1440px){.content h2{font-size:2.25em}}@media (max-width:1200px){.content h2{font-size:2em}}.content h3,.content h4,.content h5,.content h6{font-weight:500;padding-top:30px}.content h3,.content h3 code,.content h4,.content h4 code{font-size:16px}.content h5,.content h5 code,.content h6,.content h6 code{font-size:14px}.content h4>span,.content h5>span,.content h6>span{border-bottom:dashed 1px;padding:0 2px 3px;display:inline-block}.content p{padding-top:20px}.content p+h1,.content p+h2,.content p+h3,.content p+h4{padding-top:40px}.content p+p{padding-top:10px}.content p+table{margin-top:20px}.content .clear{clear:both}.content a[href]:hover{text-decoration:underline!important}.content .main-content a[href^=http]:not([link-exclude])::after{content:"";display:inline-block;width:13px;height:13px;background-repeat:no-repeat;background-position:center right;background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%233498db%22%20d%3D%22M1.5%204.518h5.982V10.5H1.5z%22%2F%3E%3Cpath%20d%3D%22M5.765%201H11v5.39L9.427%207.937l-1.31-1.31L5.393%209.35l-2.69-2.688%202.81-2.808L4.2%202.544z%22%20fill%3D%22%233498db%22%2F%3E%3Cpath%20d%3D%22M9.995%202.004l.022%204.885L8.2%205.07%205.32%207.95%204.09%206.723l2.882-2.88-1.85-1.852z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E)}.content aside a.image,.content aside a:visited.image,.content li a.image,.content li a:visited.image,.content p a.image,.content p a:visited.image,.content table a.image,.content table a:visited.image{display:block;margin:25px auto}.content aside a.image img,.content aside a:visited.image img,.content li a.image img,.content li a:visited.image img,.content p a.image img,.content p a:visited.image img,.content table a.image img,.content table a:visited.image img{display:block;margin:0 auto}.content .table-wrapper{overflow-x:auto;width:100%}.content table{margin-bottom:1em;overflow:auto}.content table th{text-align:left;line-height:1.6;padding:5px 40px 5px 10px;border-bottom:1px solid #ccc;vertical-align:bottom;white-space:nowrap}.content table td{text-align:left;vertical-align:top;line-height:1.6;padding:10px}.content table tr:last-child{border-bottom:1px solid #ccc}.content table tr:nth-child(odd)>td{background-color:#fbfbfb}.content table tr:nth-child(even)>td{background-color:#f6f6f6}.content dd{margin-left:15px}.content dd,.content dt,.content li,.content p{color:#444;line-height:1.6}.content img{max-width:100%}.content aside,.content pre{margin:20px 0 0}.content aside{border-radius:4px;padding:25px 40px;background:#f4ede3;color:#002835;line-height:1.6;position:relative}.content aside>p:first-child{margin-top:0}.content aside:before{vertical-align:middle;padding-right:.5em;font-size:18px;position:absolute;top:28px;left:14px}.content aside.warning{background-color:#e08e79;color:#f9eaeb}.content aside.warning dd,.content aside.warning dt,.content aside.warning li,.content aside.warning p{color:#f9eaeb!important}.content aside.warning a{color:#fefefe}.content aside.warning a[href^=http]::after{background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%3Cpath%20fill-opacity%3D%220%22%20stroke%3D%22%23fff%22%20d%3D%22M1.5%204.518h5.982V10.5H1.5z%22%2F%3E%3Cpath%20d%3D%22M5.765%201H11v5.39L9.427%207.937l-1.31-1.31L5.393%209.35l-2.69-2.688%202.81-2.808L4.2%202.544z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M9.995%202.004l.022%204.885L8.2%205.07%205.32%207.95%204.09%206.723l2.882-2.88-1.85-1.852z%22%20fill-opacity%3D%220%22%20%2F%3E%3C%2Fsvg%3E)}.content aside.success{background-color:#bae8f5;color:#002835}.container .page-wrapper .content #disqus_thread{margin:30px 0}.container .page-wrapper .toc{opacity:1;transition:opacity 2s}</style></head><body class=index><header><div class=wrapper><a class=logo href=http://kuzzle.io/ ><img src=/assets/images/kuzzle-logo-blue.png></a><h1>Docs</h1><div class=search><input name=search type=search placeholder="Search anything... (alt + S)" tabindex=1><div class=search-results><ul></ul></div><script type=text/plain id=search-results-template><li>
          <a href="__link__" tabindex="__tabindex__">
            <p class="page">
              <span class="title">__title__</span>
              <span class="firstMember">__firstMember__</span>
              <span class="parent">__parent__</span>
            </p>
            <p class="preview">__preview__</p>
          </a>
        </li></script></div></div><nav><a class=logo-phone href=http://kuzzle.io/ ><img src=/assets/images/kuzzle-logo.png></a><ul><li class=btn-hamburger><a class=nav-item href=""><i class="icon icon-menu"></i></a></li><li><a href=http://docs.kuzzle.io/guide/getting-started/ class="nav-item developers">Guide</a></li><li><a href=http://docs.kuzzle.io/api-documentation/connecting-to-kuzzle/ class=nav-item>API</a></li><li><a href=http://docs.kuzzle.io/sdk-reference/kuzzle/ class=nav-item>SDK</a></li><li class=active><a href=http://docs.kuzzle.io/plugins-reference/plugins-creation-prerequisites/ class=nav-item>Plugins</a></li><li class=dropdown-btn><a href=/cookbooks class="nav-item item-cookbooks">Cookbooks <i class="fa fa-caret-down" aria-hidden=true></i></a><ul class=nav-dropdown><li><a href=http://docs.kuzzle.io/elasticsearch-cookbook/installation/ class=dropdown-item>Elasticsearch</a></li><li><a href=http://docs.kuzzle.io/kuzzle-dsl/essential/koncorde/ class=dropdown-item>Koncorde</a></li><li><a href=http://docs.kuzzle.io/validation-reference/schema/ class=dropdown-item>Validation</a></li><li><a href=http://docs.kuzzle.io/kuzzle-events/plugin-events/ class=dropdown-item>Events</a></li><li></li></ul></li><li><a href=https://github.com/kuzzleio/kuzzle target=_blank class="nav-item github"><i class="icon icon-github icon-small"></i></a></li></ul><div class=spacer></div><div class=cta-buttons><a href=http://kuzzle-backoffice.netlify.com/ target=_blank><button>Backoffice</button></a> <a href=http://kuzzle.io/install-kuzzle/ ><button>Install</button></a></div><div style=clear:both></div></nav></header><div class=container><div class=tocify-wrapper><p class=version-selector><select onchange="window.location = this.value"><option selected>Version 1.x</option></select></p><div class=tocify><ul class=tocify-header><li class=tocify-item>Plugins</li><ul class=tocify-subheader><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/plugins-creation-prerequisites title="requirements to develop your plugin">Plugins creation prerequisites</a></li><li class="tocify-item tocify-focus"><a href=# title="understand Kuzzle plugins mechanisms">Plugins features</a></li><ul class=tocify-header><ul class=tocify-subheader><li class="tocify-item tocify-level-2 tocify-focus"><a href=/plugins-reference/plugins-features title="understand Kuzzle plugins mechanisms">Introduction</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-features/adding-hooks title="Listening asynchronously">Listening asynchronously</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-features/adding-pipes title="Listening synchronously">Listening synchronously</a></li><li class="tocify-item tocify-level-2"><a href=/plugins-reference/plugins-features/adding-controllers title="Adding a controller route">Adding a controller route</a></li><li class="tocify-item tocify-level-2 tocify-focus"><a href=/plugins-reference/plugins-features/adding-authentication-strategy title="Adding an authentication strategy">Adding an authentication strategy</a></li></ul></ul><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/managing-plugins title="learn how to enable and configure plugins">Managing Plugins</a></li><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/plugins-context title="plugin initialization context attribute reference">The plugin context</a></li><li class=tocify-item><a style="color: #002835; text-decoration: none;" href=/plugins-reference/protocols title="Extend Kuzzle communication capabilities">Protocols</a></li></ul></ul><div class=toc-footer><div class=cta-buttons><a href=http://kuzzle-backoffice.netlify.com/ target=_blank><button>Backoffice</button></a> <a href=http://kuzzle.io/install-kuzzle/ ><button>Install</button></a></div></div></div><div class=floating-toggle><i class="icon icon-menu"></i> <i class="icon icon-cancel"></i></div></div><div class=page-wrapper><div class=content><div class=main-content><h1><a class=anchor id=adding-an-authentication-strategy></a>Adding an authentication strategy</h1><p>Kuzzle handles users security and authentication. The supported authentication strategies can be extended by Plugins.</p><p>Any strategy supported by <a href=http://passportjs.org/ >Passport</a> can be used to extend Kuzzle supported strategies, like we did with our official <a href=https://github.com/kuzzleio/kuzzle-plugin-auth-passport-oauth>OAUTH2 Authentication plugin</a>.</p><hr><h2><a class=anchor id=choose-or-implement-a-passport-strategy></a>Choose or implement a Passport strategy</h2><p><a href=http://passportjs.org>Passport</a> supports a wide range of authentication strategies. If that is not enough, you can also implement your own strategy for your authentication Plugin.</p><p>In any case, the chosen strategy must be available in the Plugin local directory when Kuzzle installs it, either by adding the strategy in the Plugin&apos;s NPM dependencies, or by including the strategy code directly in the Plugin repository.</p><hr><h2><a class=anchor id=expose-authentication-strategies></a>Expose authentication strategies</h2><p>There are two ways of declaring authentication strategies:</p><ul><li>By exposing a <code>strategies</code> object in an authentication plugin instance, listing strategies to explose and their properties. That object cannot be empty, and must contain one attribute per added strategy, with the attribute name used as the strategy name;</li><li>By <a href=/plugins-reference/plugins-context/accessors/#strategies>dynamically add or remove strategies</a>.</li></ul><p>Whether strategies are statically or dynamically added, a properties object must be provided for each one of them. That object must be of the following structure:</p><ul><li>config: an object containing the strategy configuration<ul><li>constructor: The constructor of the Passport strategy</li><li>strategyOptions: The options provided to the Passport strategy constructor</li><li>authenticateOptions: The options provided to the Passport&apos;s <a href=http://passportjs.org/docs/authenticate>authenticate method</a>.</li><li>fields: The list of fields that can be provided to the plugin.</li></ul></li><li>methods: an object containing the list of exposed methods<ul><li>afterRegister: The name of the <code>afterRegister</code> function in the plugin object.</li><li>create: [mandatory] The name of the <code>create</code> function in the plugin object.</li><li>delete: [mandatory] The name of the <code>delete</code> function in the plugin object.</li><li>exists: [mandatory] The name of the <code>exists</code> function in the plugin object.</li><li>getById: The name of the <code>getById</code> function in the plugin object.</li><li>getInfo: The name of the <code>getInfo</code> function in the plugin object.</li><li>update: [mandatory] The name of the <code>update</code> function in the plugin object.</li><li>validate: [mandatory] The name of the <code>validate</code> function in the plugin object.</li><li>verify: [mandatory] The name of the <code>verify</code> function in the plugin object.</li></ul></li></ul><p>Even if each strategy must declare its own set of properties, a same strategy method can be used by multiple strategies.</p><hr><h2><a class=anchor id=the-verify-function></a>The verify function</h2><p>You have to implement a <a href=http://passportjs.org/docs/configure><code>verify</code> function</a> (its name depends on the configuration provided in the <code>strategies</code> attribute), which will be used by Kuzzle to authorize or to deny access to a user.</p><p>The number of arguments taken by this <code>verify</code> function depends on the authentication strategy. For instance, a <code>local password</code> strategy needs the <code>verify</code> callback to be provided with an <code>username</code> and his <code>password</code>.</p><p>Here is the generic signature of the <code>verify</code> function you have to implement:</p><p><code>verify(payload, ...)</code></p><ul><li><code>payload</code> is the login request made to passport</li><li><code>...</code>: varies, depending on the used strategy</li></ul><p>The supplied <code>payload</code> is a simple JSON object, containing the following attributes:</p><ul><li><code>original</code>: the <a href=/plugins-reference/plugins-context/constructors/#request>Request object</a> containing the login request</li><li><code>query</code>: a direct link to <code>original.input.args</code>, containing the optional request arguments</li><li><code>body</code>: a direct link to <code>original.input.body</code>, containing the request body content</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to an object that can contain two attributes: <code>kuid</code> and <code>message</code>. If the user is authenticated, the <code>kuid</code> attribute must contain the <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid>kuid</a> of the user, else the <code>kuid</code> should be null and the <code>message</code> attribute must contain a string giving the reason the user can not be authenticated. The function should reject the Promise if an error occurs (note: an authentication rejection is <em>not</em> an error).</p><hr><h2><a class=anchor id=the-exists-function></a>The exists function</h2><p>You have to implement an <code>exists</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), which will be used by Kuzzle to check whether a user has credentials using that strategy or not.</p><p>Here is the generic signature of the <code>exists</code> function you have to implement:</p><p><code>exists (request, kuid, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to a boolean depending on the user ability to authenticate with a strategy.</p><hr><h2><a class=anchor id=the-create-function></a>The create function</h2><p>You have to implement an <code>create</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), used by Kuzzle to add credentials to a user using this strategy.</p><p>Here is the generic signature of the <code>create</code> function you have to implement:</p><p><code>create (request, credentials, kuid, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>credentials</code> is the content of the credentials to create, that have already been passed to your <code>validate</code> function.</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to an object that contains <strong>non sensitive</strong> information of the object (can be an empty object).</p><aside class=warning>The credentials have to be persisted, either by using the <a href=/plugins-reference/plugins-context/constructors/#repository>Repository constructor</a>, or any external service.</aside><hr><h2><a class=anchor id=the-update-function></a>The update function</h2><p>You have to implement an <code>update</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), used by Kuzzle to update a user&apos;s credentials to this strategy.</p><p>Here is the generic signature of the <code>update</code> function you have to implement:</p><p><code>update (request, credentials, kuid, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>credentials</code> is the content of the credentials to create, that have already been passed to your <code>validate</code> function.</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to an object that contains <strong>non sensitive</strong> information of the object (can be an empty object).</p><aside class=warning>The credentials have to be persisted, either by using the <a href=/plugins-reference/plugins-context/constructors/#repository>Repository constructor</a>, or any external service.</aside><hr><h2><a class=anchor id=the-delete-function></a>The delete function</h2><p>You have to implement a <code>delete</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), used by Kuzzle to delete a user&apos;s credentials to this strategy.</p><p>Here is the generic signature of the <code>delete</code> function you have to implement:</p><p><code>delete (request, kuid, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to any value if deletion succeeds.</p><hr><h2><a class=anchor id=the-getinfo-function></a>The getInfo function</h2><p>You may implement a <code>getInfo</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), used by Kuzzle to get informations about a user&apos;s credentials to this strategy.</p><aside class=warning>Kuzzle will NEVER expose data managed by plugins by itself. Plugins are entirely responsible for the data they expose.<br>For security reasons, only NON SENSITIVE informations should be returned by that method.</aside><p>Here is the generic signature of the <code>getInfo</code> function you have to implement:</p><p><code>getInfo (request, kuid, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to an object that contains <strong>non sensitive</strong> information of the object (can be an empty object).</p><aside class=info>If no getInfo function is provided, an empty object will be returned by controllers that use it.</aside><hr><h2><a class=anchor id=the-getbyid-function></a>The getById function</h2><p>You may implement a <code>getById</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), used by Kuzzle to get informations about a user&apos;s credentials to this strategy searching by the strategy storage identifier (<code>_id</code>). For security reasons, only <strong>non sensitive</strong> informations should be returned.</p><p>Here is the generic signature of the <code>getById</code> function you have to implement:</p><p><code>getById (request, id, strategy)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>id</code> is the user&apos;s storage identifier in the strategy.</li><li><code>strategy</code> the name of the strategy</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves to an object that contains <strong>non sensitive</strong> information of the object (can be an empty object).</p><aside class=info>If no getById function is provided, an empty object will be returned by controllers that use it.</aside><hr><h2><a class=anchor id=the-afterregister-function></a>The afterRegister function</h2><p>You may implement a <code>afterRegister</code> function (its name depends on the configuration provided in the <code>strategies</code> attribute), which will be called once the strategy constructor has been build</p><p>Here is the generic signature of the <code>afterRegister</code> function you have to implement:</p><p><code>afterRegister (constructedStrategy)</code></p><ul><li><code>constructedStrategy</code> is the instance of the Passport strategy constructor.</li></ul><p>The function <strong>may</strong> return any value as it will be ignored.</p><aside class=info>If no afterRegister function is provided, Kuzzle won&apos;t try to call it, and register will process as expected.</aside><hr><h2><a class=anchor id=the-validate-function></a>The validate function</h2><p>You have to implement a <code>validate</code> (its name depends on the configuration provided in the <code>strategies</code> attribute), which will be used by Kuzzle to check if the provided user&apos;s credentials to this strategy are well-formed, and ensure that every values you want are unique.</p><p>Here is the generic signature of the <code>validate</code> function you have to implement:</p><p><code>validate (request, credentials, kuid, strategy, isUpdate)</code></p><ul><li><code>request</code> is the request made to Kuzzle (see <a href=/plugins-reference/plugins-context/constructors/#request>the <code>Request</code> documentation</a>).</li><li><code>credentials</code> is the content of the credentials to create or update.</li><li><code>kuid</code> is the user <a href=/guide/kuzzle-depth/authentication/#the-kuzzle-user-identifier-kuid><code>&lt;kuid&gt;</code></a>.</li><li><code>strategy</code> the name of the strategy</li><li><code>isUpdate</code> is true if <code>validate</code> is called during an update.</li></ul><p>The function <strong>must</strong> return a <code>Promise</code> that resolves or rejects with an error explaining the reason.</p><aside class=warning>Validate can be called during an update with partial information. The validation should behave accordingly when <strong>isUpdate</strong> is <strong>true</strong>, knowing that mandatory information should already have been stored during a previous create call.</aside><hr><h2><a class=anchor id=tl-dr-plugin-skeleton></a>TL;DR plugin skeleton</h2><p>Here is a skeleton example of an authentication plugin:</p><pre><code class="hljs javascript"><span class=hljs-keyword>const</span> StrategyConstructor = <span class=hljs-built_in>require</span>(<span class=hljs-string>&apos;some-passport-strategy&apos;</span>);

<span class=hljs-comment>/**
 * @class AuthenticationPlugin
 */</span>
<span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>AuthenticationPlugin</span> </span>{
  <span class=hljs-comment>/**
   * @constructor
   */</span>
  <span class=hljs-keyword>constructor</span>() {}

  <span class=hljs-comment>/**
   * @param {object} customConfig
   * @param {KuzzlePluginContext} context
   * @returns {*}
   */</span>
  init (customConfig, context) {
    <span class=hljs-keyword>this</span>.strategies = {
      <span class=hljs-comment>// The name of the strategy</span>
      strategyName: {
        <span class=hljs-attr>config</span>: {
          <span class=hljs-comment>// The constructor of the passport strategy </span>
          <span class=hljs-keyword>constructor</span>: StrategyConstructor,

          // Options provided to the strategy <span class=hljs-keyword>constructor</span> at instantiation
          strategyOptions: {},

          <span class=hljs-comment>// Options provided to the authenticate function during the authentication process</span>
          authenticateOptions: {
            <span class=hljs-attr>scope</span>: []
          },

          <span class=hljs-comment>// The list of fields that have to be provided in the credentials</span>
          fields: [<span class=hljs-string>&apos;login&apos;</span>, <span class=hljs-string>&apos;password&apos;</span>]
        },
        <span class=hljs-attr>methods</span>: {
          <span class=hljs-comment>// (optional) The name of the afterRegister function</span>
          afterRegister: <span class=hljs-string>&apos;afterRegister&apos;</span>,
          <span class=hljs-comment>// The name of the create function</span>
          create: <span class=hljs-string>&apos;create&apos;</span>,
          <span class=hljs-comment>// The name of the delete function</span>
          <span class=hljs-keyword>delete</span>: <span class=hljs-string>&apos;delete&apos;</span>,
          <span class=hljs-comment>// The name of the exists function</span>
          exists: <span class=hljs-string>&apos;exists&apos;</span>,
          <span class=hljs-comment>// (optional) The name of the getById function</span>
          getById: <span class=hljs-string>&apos;getById&apos;</span>,
          <span class=hljs-comment>// (optional) The name of the getInfo function</span>
          getInfo: <span class=hljs-string>&apos;getInfo&apos;</span>,
          <span class=hljs-comment>// The name of the update function</span>
          update: <span class=hljs-string>&apos;update&apos;</span>,
          <span class=hljs-comment>// The name of the validate function</span>
          validate: <span class=hljs-string>&apos;validate&apos;</span>,
          <span class=hljs-comment>// The name of the verify function</span>
          verify: <span class=hljs-string>&apos;verify&apos;</span>
        }
      }
    };
  }

  <span class=hljs-comment>/**
   * Optional.
   * Called after the strategy has been built with the constructor
   *
   * @param {*} constructedStrategy
   * @returns {Promise&lt;object&gt;}
   */</span>
  afterRegister (constructedStrategy) {
    <span class=hljs-comment>// do some action</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* any value */</span>);
  }

  <span class=hljs-comment>/**
   * Persists the provided credentials in some way
   * Must keep a link between the persisted credentials
   * and the kuid
   *
   * @param {KuzzleRequest} request
   * @param {object} credentials
   * @param {string} kuid
   * @returns {Promise&lt;object&gt;}
   */</span>
  create (request, credentials, kuid) {
    <span class=hljs-comment>// persist credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* non sensitive credentials info */</span>);
  }

  <span class=hljs-comment>/**
   * Removes the user&apos;s stored credentials from
   * the plugin persistence layer
   *
   * @param {KuzzleRequest} request
   * @param {string} kuid
   * @returns {Promise&lt;object&gt;}
   */</span>
  <span class=hljs-keyword>delete</span> (request, kuid) {
    <span class=hljs-comment>// remove credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* any value */</span>);
  }

  <span class=hljs-comment>/**
   * Checks if user&apos;s credentials exist in the persistence layer
   *
   * @param {KuzzleRequest} request
   * @param {string} kuid
   * @returns {Promise&lt;boolean&gt;}
   */</span>
  exists (request, kuid) {
    <span class=hljs-comment>// check credentials existence</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* true|false */</span>);
  }

  <span class=hljs-comment>/**
   * Optional.
   * Retrieves the non sensitive user&apos;s credentials information
   * from the persistence layer
   *
   * @param {KuzzleRequest} request
   * @param {string} kuid
   * @returns {Promise&lt;object&gt;}
   */</span>
  getInfo (request, kuid) {
    <span class=hljs-comment>// retrieve credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* non sensitive credentials info */</span>);
  }

  <span class=hljs-comment>/**
   * Optional.
   * Retrieves the non sensitive user&apos;s credentials information
   * from the persistence layer using the strategy internal id
   *
   * @param {KuzzleRequest} request
   * @param {string} id
   * @returns {Promise&lt;object&gt;}
   */</span>
  getById (request, id) {
    <span class=hljs-comment>// retrieve credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* non sensitive credentials info */</span>);
  }

  <span class=hljs-comment>/**
   * Updates the user&apos;s credentials information in the
   * persistence layer
   *
   * @param {KuzzleRequest} request
   * @param {object} credentials
   * @param {string} kuid
   * @returns {Promise&lt;object&gt;}
   */</span>
  update (request, credentials, kuid) {
    <span class=hljs-comment>// update credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* non sensitive credentials info */</span>);
  }

  <span class=hljs-comment>/**
   * Validates credentials validity conforming to the
   * authentication strategy rules (mandatory fields,
   * password length, username uniqueness, ...)
   *
   * @param {KuzzleRequest} request
   * @param {object} credentials
   * @param {string} kuid
   * @param {string} strategy
   * @param {boolean} isUpdate
   * @returns {Promise&lt;boolean&gt;}
   */</span>
  validate (request, credentials, kuid, strategy, isUpdate) {
    <span class=hljs-comment>// validate credentials</span>
    <span class=hljs-built_in>Promise</span>.resolve(<span class=hljs-comment>/* true|false */</span>);
  }

  <span class=hljs-comment>/**
   * Provided to the Passport strategy as verify function
   * Should return the kuid if the user can authentify
   * or an object with the login failure reason as message attribute
   *
   * @param {KuzzleRequest} request
   * @param {*[]} credentials - provided arguments depends on the Passport strategy
   * @returns {Promise&lt;string|{message: string}&gt;}
   */</span>
  verify (request, ...credentials) {
    <span class=hljs-comment>// verify if the user can authentify</span>
    <span class=hljs-keyword>const</span> kuid = getUserIdFromCredentials(credentials);

    <span class=hljs-keyword>if</span> (kuid) {
      <span class=hljs-keyword>return</span> <span class=hljs-built_in>Promise</span>.resolve(kuid);
    }

    <span class=hljs-keyword>return</span> <span class=hljs-built_in>Promise</span>.resolve({<span class=hljs-attr>message</span>: <span class=hljs-string>&apos;Login failed - You shall not pass! Reason: ...&apos;</span>});
  }
}

<span class=hljs-comment>// Exports the plugin objects, allowing Kuzzle to instantiate it</span>
<span class=hljs-built_in>module</span>.exports = AuthenticationPlugin;</code></pre><div style="clear: both"></div></div><div class="nav-sibling bottom"><div class=nav-left><p><a href=https://github.com/kuzzleio/documentation/edit/master/src/plugins-reference/plugins-features/adding-authentication-strategy.md>edit on github<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span> <a href="https://github.com/kuzzleio/documentation/issues/new?labels=plugins-reference&amp;title=Feedback%20about%20page%20&apos;plugins-reference/plugins-features/adding-authentication-strategy.md&apos;">send feedback about this content<i class="icon icon-github icon-small"></i></a></p></div><div class=nav-right><p><a href=#>back to top &#x2191;</a></p></div><div style=clear:both></div></div></div></div><div class=license>&#xA9; 2018. All Rights Reserved - Kuzzle.io - <a href=https://github.com/kuzzleio/documentation/blob/master/LICENSE.md>Apache 2.0 License</a></div></div><script type=text/javascript>var path = 'plugins-reference/plugins-features/adding-authentication-strategy';
  var site_url = 'http://docs.kuzzle.io'
  var site_base_path = '/'
  var ancestry_parent_path = 'plugins-reference'
  var report404ga = ''
  var algolia_projectId = '4RFBRWISJR'
  var algolia_publicKey = '6febf1ebe906bd82bce58d5a20ac6c1b'</script><script src=/assets/javascript/3a0a1b3b57c43c12d9ebf63abf6a09e66679de0f.min.js></script></body></html>